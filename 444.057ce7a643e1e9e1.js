(self.webpackChunkSolar_Car_Website=self.webpackChunkSolar_Car_Website||[]).push([[444],{9444:(R,D,m)=>{"use strict";m.r(D),m.d(D,{PortalModule:()=>qt});var A=m(6895),k=m(7881),z=m(529),c=m(433),g=m(9379),x=m(5861),e=m(4650),U=(()=>{return(r=U||(U={})).ADMIN="Admin",r.BUSINESS="Business",r.ENGINEERING="Engineering",r.NONE="None",U;var r})(),I=m(3385),w=m(1762);let b=(()=>{class r{constructor(t){this.firestore=t}addUser(t){return this.firestore.collection("users-collection").doc(t.id).set(t)}getUser(t){return this.firestore.collection("users-collection").doc(t).get()}getUsers(){return this.firestore.collection("users-collection").snapshotChanges()}updateUser(t){return this.firestore.collection("users-collection").doc(t.id).update({email:t.email,verified:t.verified,displayName:t.displayName,userPrivileges:t.userPrivileges,userActions:t.userActions})}deleteUser(t){this.firestore.collection("users-collection").doc(t).delete()}verifyUser(t){return this.firestore.collection("users-collection").doc(t).update({verified:!0,userPrivileges:[U.NONE]})}addUserPrivilege(t,i){this.firestore.collection("users-collection").doc(t).get().subscribe(n=>{const o=n.data();o.userPrivileges.push(i),this.updateUser(o)})}removeUserPrivilege(t,i){this.firestore.collection("users-collection").doc(t).get().subscribe(n=>{const o=n.data();o.userPrivileges=o.userPrivileges.filter(a=>a!==i),this.updateUser(o)})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(w.ST))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),E=(()=>{class r{constructor(t,i,n){this.auth=t,this.router=i,this.userService=n}Login(t,i){this.auth.signInWithEmailAndPassword(t,i).then(n=>{n.user.emailVerified||(window.alert("Please verify your email address before logging in."),this.auth.signOut()),this.userService.getUser(n.user.uid).subscribe(o=>{const a=o.data();a.verified||(window.alert("Please ask your manager to verify you before logging in."),this.auth.signOut()),window.sessionStorage.setItem("User",JSON.stringify(a)),this.router.navigateByUrl("portal/user")})}).catch(n=>{window.alert(n.message)})}SignUp(t,i,n){this.auth.createUserWithEmailAndPassword(i,n).then(o=>{const a={id:o.user.uid,displayName:t,email:i,verified:!1,userPrivileges:[U.NONE],userActions:[]};this.auth.currentUser.then(l=>{l.sendEmailVerification()}),this.userService.addUser(a),alert("Succesfully signed up. Please confirm your email and ask your manager to approve your account."),this.router.navigateByUrl("portal/login")}).catch(o=>{window.alert(o.message)})}LogOut(){this.auth.signOut().then(()=>{this.router.navigateByUrl("portal/login"),window.sessionStorage.removeItem("User")})}ChangeEmail(t){this.auth.currentUser.then(i=>{i.updateEmail(t).then(()=>{const n=JSON.parse(window.sessionStorage.getItem("User"));n.email=t,this.userService.updateUser(n)})})}ResetPassword(t){this.auth.sendPasswordResetEmail(t)}ChangePassword(t){this.auth.currentUser.then(i=>{i.updatePassword(t)})}isAdmin(){const t=JSON.parse(window.sessionStorage.getItem("User"));return t&&t.userPrivileges.includes(U.ADMIN)}hasBusinessPrivileges(){const t=JSON.parse(window.sessionStorage.getItem("User"));return t&&(t.userPrivileges.includes(U.ADMIN)||t.userPrivileges.includes(U.BUSINESS))}hasEngineeringPrivileges(){const t=JSON.parse(window.sessionStorage.getItem("User"));return t&&(t.userPrivileges.includes(U.ADMIN)||t.userPrivileges.includes(U.ENGINEERING))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(I.zQ),e.LFG(g.F0),e.LFG(b))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function M(r,s){if(1&r&&(e.TgZ(0,"div")(1,"li",12)(2,"a",13),e._uU(3),e.qZA()()()),2&r){const t=s.$implicit;e.xp6(2),e.s9C("routerLink",t.link),e.xp6(1),e.Oqu(t.label)}}function F(r,s){if(1&r&&(e.ynx(0),e.YNc(1,M,4,2,"div",11),e.BQk()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.businessRouteLinks)}}function q(r,s){if(1&r&&(e.TgZ(0,"div")(1,"li",12)(2,"a",13),e._uU(3),e.qZA()()()),2&r){const t=s.$implicit;e.xp6(2),e.s9C("routerLink",t.link),e.xp6(1),e.Oqu(t.label)}}function d(r,s){if(1&r&&(e.ynx(0),e.YNc(1,q,4,2,"div",11),e.BQk()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.engineeringRouteLinks)}}function u(r,s){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",6)(2,"div",7),e.YNc(3,F,2,1,"ng-container",5),e.YNc(4,d,2,1,"ng-container",5),e.TgZ(5,"div")(6,"button",8),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.getAuth().LogOut())}),e._uU(7,"Log Out"),e.qZA()(),e.TgZ(8,"a",9),e._UZ(9,"img",10),e.qZA()()(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",t.getAuth().hasBusinessPrivileges()),e.xp6(1),e.Q6J("ngIf",t.getAuth().hasEngineeringPrivileges())}}let p=(()=>{class r{constructor(t){this.auth=t,this.businessRouteLinks=[{label:"Team",link:"manage-team"},{label:"Sponsors",link:"manage-sponsors"},{label:"News",link:"manage-news"}],this.engineeringRouteLinks=[{label:"Inventory",link:"manage-inventory"}]}LoggedIn(){const t=JSON.parse(window.sessionStorage.getItem("User"));return null!==t&&t.verified}getAuth(){return this.auth}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(E))},r.\u0275cmp=e.Xpm({type:r,selectors:[["portal-header"]],decls:8,vars:1,consts:[[1,"sticky-top"],[1,"navbar","navbar-expand-lg","navbar-dark","bg-danger"],["href","./portal",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarNavAltMarkup","aria-controls","navbarNavAltMarkup","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],[4,"ngIf"],["id","navbarNavAltMarkup",1,"collapse","navbar-collapse"],[1,"navbar-nav","ml-auto"],[1,"nav-link","user-btn",3,"click"],["routerLink","user",1,"nav-link"],["src","../../../assets/portal/user-icon.png",1,"user-icon"],[4,"ngFor","ngForOf"],[1,"nav-item"],[1,"nav-link",3,"routerLink"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"nav",1)(2,"a",2)(3,"h3"),e._uU(4," SolarCar Portal "),e.qZA()(),e.TgZ(5,"button",3),e._UZ(6,"span",4),e.qZA(),e.YNc(7,u,10,2,"ng-container",5),e.qZA()()),2&t&&(e.xp6(7),e.Q6J("ngIf",i.LoggedIn()))},dependencies:[A.sg,A.O5,g.yS],styles:["img[_ngcontent-%COMP%]{height:auto;max-width:348px;max-height:58px}.navbar[_ngcontent-%COMP%]{font-size:120%;padding:20px 30px}.sticky-top[_ngcontent-%COMP%]{position:sticky}.user-btn[_ngcontent-%COMP%]{background:none;border:none}.user-icon[_ngcontent-%COMP%]{max-width:40px}"]}),r})(),h=(()=>{class r{constructor(t){this.authService=t}ngOnDestroy(){var t=this;return(0,x.Z)(function*(){yield t.authService.LogOut()})()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(E))},r.\u0275cmp=e.Xpm({type:r,selectors:[["portal-root"]],decls:2,vars:0,template:function(t,i){1&t&&e._UZ(0,"portal-header")(1,"router-outlet")},dependencies:[g.lC,p]}),r})();var f=m(7523),_=m(3851);let S=(()=>{class r{constructor(t,i){this.firestore=t,this.userActionService=i}addInventoryItem(t){const i=JSON.parse(window.sessionStorage.getItem("User"));return new Promise((n,o)=>{this.firestore.collection("inventory-collection").add(t).then(a=>{this.userActionService.addUserAction({uid:i.id,uName:i.displayName,eid:a.id,eName:"Item: "+t.name,action:f.a.ADDED,dateTime:(new Date).toLocaleString()}),n(a)},a=>o(a))})}getInventoryItems(){return this.firestore.collection("inventory-collection").snapshotChanges()}updateInventoryItem(t){const i=JSON.parse(window.sessionStorage.getItem("User")),n=this.firestore.collection("inventory-collection").doc(t.id);return this.userActionService.addUserAction({uid:i.id,uName:i.displayName,eid:t.id,eName:"Item: "+t.name,action:f.a.UPDATED,dateTime:(new Date).toLocaleString()}),n.update({name:t.name,type:t.type,internalPartNumber:t.internalPartNumber,manufacturerPartNumber:t.manufacturerPartNumber,location:t.location,amount:t.amount,isBorrowable:t.isBorrowable,imageUrl:t.imageUrl,image:t.image})}borrowItem(t){const i=JSON.parse(window.sessionStorage.getItem("User")),n=this.firestore.collection("inventory-collection").doc(t.id);return this.userActionService.addUserAction({uid:i.id,uName:i.displayName,eid:t.id,eName:"Item: "+t.name,action:f.a.BORROWED,dateTime:(new Date).toLocaleString()}),n.update({isBorrowed:!0,borrowedByUser:i.id})}returnItem(t){const i=JSON.parse(window.sessionStorage.getItem("User")),n=this.firestore.collection("inventory-collection").doc(t.id);return this.userActionService.addUserAction({uid:i.id,uName:i.displayName,eid:t.id,eName:"Item: "+t.name,action:f.a.RETURNED,dateTime:(new Date).toLocaleString()}),n.update({isBorrowed:!1,borrowedByUser:""})}useItem(t){const i=JSON.parse(window.sessionStorage.getItem("User")),n=this.firestore.collection("inventory-collection").doc(t.id);return this.userActionService.addUserAction({uid:i.id,uName:i.displayName,eid:t.id,eName:"Item: "+t.name,action:f.a.USED,dateTime:(new Date).toLocaleString()}),t.amount=t.amount-1,n.update({amount:t.amount})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(w.ST),e.LFG(_.X))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var y=m(8445);let N=(()=>{class r{constructor(t){this.storage=t}uploadFile(t,i){const n=i+t.name;return this.storage.storage.ref().child(n).put(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(y.Q1))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function H(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,o=e.oxw();return e.KtG(o.renderBorrowModal(n))}),e._uU(1," Borrow"),e.qZA()}}function X(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,o=e.oxw();return e.KtG(o.renderReturnModal(n))}),e._uU(1," Return"),e.qZA()}}function ee(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,o=e.oxw();return e.KtG(o.useItemModal(n))}),e._uU(1,"Use 1"),e.qZA()}}function re(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td",38),e._uU(2),e.qZA(),e.TgZ(3,"td",38),e._uU(4),e.qZA(),e.TgZ(5,"td",38),e._uU(6),e.qZA(),e.TgZ(7,"td",38),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td",38),e._uU(14),e.YNc(15,H,2,0,"button",39),e.YNc(16,X,2,0,"button",39),e.YNc(17,ee,2,0,"button",39),e.qZA(),e.TgZ(18,"td"),e._UZ(19,"img",40),e.qZA(),e.TgZ(20,"td")(21,"button",4),e.NdJ("click",function(){const o=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.renderEditItem(o))}),e._uU(22,"Edit"),e.qZA()()()}if(2&r){const t=s.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.type),e.xp6(2),e.Oqu(t.internalPartNumber),e.xp6(2),e.Oqu(t.manufacturerPartNumber),e.xp6(2),e.Oqu(t.location),e.xp6(2),e.Oqu(t.amount),e.xp6(2),e.hij("",t.borrowedByUser," "),e.xp6(1),e.Q6J("ngIf",!1===t.isBorrowed&&!0===t.isBorrowable),e.xp6(1),e.Q6J("ngIf",!0===t.isBorrowed&&"Borrowed by: You"===t.borrowedByUser),e.xp6(1),e.Q6J("ngIf",!0!==t.isBorrowable),e.xp6(2),e.s9C("src",t.imageUrl,e.LSH)}}function V(r,s){if(1&r&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&r){const t=s.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.hij(" ",t,"")}}function j(r,s){if(1&r&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&r){const t=s.$implicit;e.xp6(1),e.hij(" ",t,"")}}function W(r,s){if(1&r&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&r){const t=s.$implicit;e.xp6(1),e.hij(" ",t,"")}}function P(r,s){if(1&r&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&r){const t=s.$implicit;e.xp6(1),e.hij(" ",t,"")}}function $(r,s){if(1&r&&(e.TgZ(0,"option",42),e._uU(1),e.qZA()),2&r){const t=s.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.hij(" ",t,"")}}function te(r,s){1&r&&(e.TgZ(0,"span",43),e._uU(1,"(Can not be disabled if item is borrowed)"),e.qZA())}let ae=(()=>{class r{constructor(t,i,n,o,a,l){this.inventoryService=t,this.formBuilder=i,this.uploadService=n,this.userActionService=o,this.authService=a,this.userService=l,this.user=JSON.parse(window.sessionStorage.getItem("User")),this.addItemForm=this.formBuilder.group({name:[""],type:[""],internalPartNumber:[""],manufacturerPartNumber:[""],manufacturer:[""],link:[""],description:[""],amountUnit:[""],location:[""],amount:0,isBorrowable:!1,image:[""]}),this.elecLocals=["Cabinet - Bin 1","Cabinet - Bin 2","Cabinet - Bin 3"],this.mechLocals=["Cabinet - Bin 1","Cabinet - Bin 2","Cabinet - Bin 3"],this.lockerLocals=["Cabinet - Bin 1","Cabinet - Bin 2","Cabinet - Bin 3"],this.basementLocals=["Cabinet - Bin 1","Cabinet - Bin 2","Cabinet - Bin 3"],this.amountUnitOptions=["Each","Meter","Feet","Pack","Pounds","Liter","Roll","Yard"],this.locations=[],this.checkoutButtonText="Borrow",this.editButtonText="Edit",this.submitButtonText="Add Item",this.borrowFilter=!1}ngOnInit(){this.inventoryService.getInventoryItems().subscribe(t=>{this.items=t.map(i=>{const n={id:i.payload.doc.id,...i.payload.doc.data()};return""===n.borrowedByUser?(n.borrowedByUser="",n):n.borrowedByUser===this.user.id?(n.borrowedByUser="Borrowed by: You",n):(this.userService.getUser(n.borrowedByUser).subscribe(o=>{const a=o.data();n.borrowedByUser="Borrowed by: "+a.displayName}),n)})})}setImage(t){this.image=t[0];const i=new FileReader;i.onload=n=>{this.previewImgUrl=n.target.result},i.readAsDataURL(this.image)}manageItemForm(){if(this.submitButtonText.startsWith("Edit Item")){if(null===this.image){const t={id:this.updateItemId,name:this.addItemForm.get("name").value,type:this.addItemForm.get("type").value,internalPartNumber:this.addItemForm.get("internalPartNumber").value,manufacturerPartNumber:this.addItemForm.get("manufacturerPartNumber").value,manufacturer:this.addItemForm.get("manufacturer").value,link:this.addItemForm.get("link").value,description:this.addItemForm.get("description").value,amountUnit:this.addItemForm.get("amountUnit").value,location:this.addItemForm.get("location").value,amount:this.addItemForm.get("amount").value,isBorrowable:this.addItemForm.get("isBorrowable").value,isBorrowed:!1,borrowedByUser:"",image:null,imageUrl:this.previewImgUrl};this.inventoryService.updateInventoryItem(t)}else{const t=this.updateItemId,i=this.addItemForm.get("name").value,n=this.addItemForm.get("type").value,o=this.addItemForm.get("internalPartNumber").value,a=this.addItemForm.get("manufacturerPartNumber").value,l=this.addItemForm.get("manufacturer").value,v=this.addItemForm.get("link").value,C=this.addItemForm.get("description").value,Z=this.addItemForm.get("amountUnit").value,T=this.addItemForm.get("location").value,B=this.addItemForm.get("amount").value,O=this.addItemForm.get("isBorrowable").value;this.uploadService.uploadFile(this.image,"assets/inventory_images/").then(Y=>{Y.ref.getDownloadURL().then(L=>{this.inventoryService.updateInventoryItem({id:t,name:i,type:n,internalPartNumber:o,manufacturerPartNumber:a,manufacturer:l,link:v,description:C,amountUnit:Z,location:T,amount:B,isBorrowable:O,isBorrowed:!1,borrowedByUser:"",image:null,imageUrl:L})})})}return this.resetForm(),void this.modalVisiblity(!1)}if(null===this.image){const t={name:this.addItemForm.get("name").value,type:this.addItemForm.get("type").value,internalPartNumber:this.addItemForm.get("internalPartNumber").value,manufacturerPartNumber:this.addItemForm.get("manufacturerPartNumber").value,manufacturer:this.addItemForm.get("manufacturer").value,link:this.addItemForm.get("link").value,description:this.addItemForm.get("description").value,amountUnit:this.addItemForm.get("amountUnit").value,location:this.addItemForm.get("location").value,amount:this.addItemForm.get("amount").value,isBorrowable:this.addItemForm.get("isBorrowable").value,isBorrowed:!1,borrowedByUser:"",image:null,imageUrl:"https://firebasestorage.googleapis.com/v0/b/solarcardatabase.appspot.com/o/assets%2Finventory_images%2Fno_img.png?alt=media&token=47ff8883-f59c-48d9-89dd-5db91fe23021"};this.inventoryService.addInventoryItem(t)}else{const t=this.addItemForm.get("name").value,i=this.addItemForm.get("type").value,n=this.addItemForm.get("internalPartNumber").value,o=this.addItemForm.get("manufacturerPartNumber").value,a=this.addItemForm.get("manufacturer").value,l=this.addItemForm.get("link").value,v=this.addItemForm.get("description").value,C=this.addItemForm.get("amountUnit").value,Z=this.addItemForm.get("location").value,T=this.addItemForm.get("amount").value,B=this.addItemForm.get("isBorrowable").value;this.uploadService.uploadFile(this.image,"assets/inventory_images/").then(O=>{O.ref.getDownloadURL().then(Y=>{this.inventoryService.addInventoryItem({name:t,type:i,internalPartNumber:n,manufacturerPartNumber:o,manufacturer:a,link:l,description:v,amountUnit:C,location:Z,amount:T,isBorrowable:B,isBorrowed:!1,borrowedByUser:"",image:null,imageUrl:Y})})})}this.resetForm(),this.modalVisiblity(!1)}modalVisiblity(t){!0===t?document.getElementsByClassName("itemControlModal")[0].setAttribute("style","display:block"):document.getElementsByClassName("itemControlModal")[0].setAttribute("style","display:none")}renderAddItem(){this.resetForm(),this.modalVisiblity(!0),this.submitButtonText="Add Item"}renderEditItem(t){this.resetForm(),this.modalVisiblity(!0),this.updateItemId=t.id,this.addItemForm.get("name").setValue(t.name),this.addItemForm.get("type").setValue(t.type),this.addItemForm.get("internalPartNumber").setValue(t.internalPartNumber),this.addItemForm.get("manufacturerPartNumber").setValue(t.manufacturerPartNumber),this.addItemForm.get("manufacturer").setValue(t.manufacturer),this.addItemForm.get("description").setValue(t.description),this.addItemForm.get("amountUnit").setValue(t.amountUnit),this.addItemForm.get("link").setValue(t.link),this.addItemForm.get("location").setValue(t.location),this.addItemForm.get("amount").setValue(t.amount),this.addItemForm.get("isBorrowable").setValue(t.isBorrowable),t.isBorrowed&&this.addItemForm.get("isBorrowable").disable(),this.previewImgUrl=t.imageUrl,this.image=null,this.submitButtonText="Edit Item",document.documentElement.scrollTop=0}cancelItemForm(){this.modalVisiblity(!1),this.resetForm()}resetForm(){this.addItemForm.reset(),this.updateItemId="",this.addItemForm.get("isBorrowable").enable()}renderBorrowModal(t){confirm("Are you sure you would like to borrow this item?")&&!0===t.isBorrowable&&!1===t.isBorrowed&&this.inventoryService.borrowItem(t)}renderReturnModal(t){confirm("Are you sure you would like to return this item?")&&!0===t.isBorrowable&&!0===t.isBorrowed&&(t.borrowedByUser=this.user.id,this.inventoryService.returnItem(t))}useItemModal(t){t.amount>0?confirm("The item count will be reduced by 1.")&&this.inventoryService.useItem(t):alert("There are no more left")}returnItemFilter(){this.borrowFilter?(this.runSearch(2),this.borrowFilter=!1):(this.runSearch(1),this.borrowFilter=!0)}runSearch(t=0){let i,n,o,a,l,v,C,Z,T,B,O,Y,L,J,ne,G,oe;for(0===t?(i=document.getElementsByClassName("search-field")[0],n=i.value.toUpperCase()):2===t?(i="",n=i.toUpperCase(),document.getElementsByClassName("search-field")[0].setAttribute("value","")):(i="Borrowed by: You",n=i.toUpperCase(),document.getElementsByClassName("search-field")[0].setAttribute("value","*Borrowed*")),o=document.getElementsByClassName("inventory-table")[0],a=o.getElementsByTagName("tr"),O=1;O<a.length;O++)l=a[O].getElementsByTagName("td")[0],v=a[O].getElementsByTagName("td")[1],C=a[O].getElementsByTagName("td")[2],Z=a[O].getElementsByTagName("td")[3],T=a[O].getElementsByTagName("td")[4],B=a[O].getElementsByTagName("td")[6],Y=l.textContent||l.innerText,L=v.textContent||v.innerText,J=C.textContent||C.innerText,ne=Z.textContent||Z.innerText,G=T.textContent||T.innerText,oe=B.textContent||B.innerText,a[O].style.display=Y.toUpperCase().indexOf(n)>-1||L.toUpperCase().indexOf(n)>-1||J.toUpperCase().indexOf(n)>-1||ne.toUpperCase().indexOf(n)>-1||G.toUpperCase().indexOf(n)>-1||oe.toUpperCase().indexOf(n)>-1?"":"none"}locationUpdate(){const t=document.getElementsByClassName("location-field")[0];"Custom"===this.addItemForm.get("location").value?t.setAttribute("style","display:block"):t.setAttribute("style","display:none")}borrowableCheck(){!0===this.addItemForm.get("isBorrowable").value&&1!==this.addItemForm.get("amount").value&&(confirm("The max value for an item than can be borrowed is 1. If you proceed, the item count will be changed to 1")?this.addItemForm.controls.amount.setValue(1):this.addItemForm.controls.isBorrowable.setValue(!1))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(S),e.Y36(c.QS),e.Y36(N),e.Y36(_.X),e.Y36(E),e.Y36(b))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-edit-inventory"]],decls:112,vars:14,consts:[[1,"inventoryContainer"],[1,"inventoryControls"],[1,"defaultActions"],["placeholder","Search # or name",1,"search-field",3,"keyup"],[1,"btn","btn-danger","actionButton",3,"click"],["type","checkbox","id","btn-borrowed","autocomplete","off",1,"btn-check",2,"display","none",3,"click"],["for","btn-borrowed",1,"btn","btn-danger"],[1,"inventoryList"],[1,"tableHeading"],[1,"table","inventory-table"],["scope","col"],[4,"ngFor","ngForOf"],[1,"itemControlModal"],["novalidate","",3,"formGroup","ngSubmit"],[1,"mb-3"],["type","text","formControlName","name","required","",1,"form-control"],["formControlName","type","required",""],["formControlName","internalPartNumber",1,"form-control"],["formControlName","manufacturerPartNumber","required","",1,"form-control"],["formControlName","manufacturer",1,"form-control"],["formControlName","link","required","",1,"form-control"],["formControlName","location",1,"form-control",3,"change"],["value","Custom"],["label","Electrical Room"],[3,"ngValue",4,"ngFor","ngForOf"],["label","Mechanical Room"],["label","Lockers Room"],["label","Basement"],["formControlName","location","required","",1,"form-control","location-field"],["formControlName","amount","required","",1,"form-control",3,"readonly"],["formControlName","amountUnit","required","",1,"form-control",3,"value","change"],["type","text","formControlName","description",1,"form-control"],["class","isBorrowed",4,"ngIf"],["type","checkbox","formControlName","isBorrowable",1,"form-control",3,"change"],["type","file","formControlName","image",1,"form-control",3,"change"],[1,"imagePreview",3,"src"],["type","submit",1,"btn","btn-danger",3,"disabled"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"searchItem"],["class","btn btn-warning actionButton",3,"click",4,"ngIf"],[1,"imageResultsPreview",3,"src"],[1,"btn","btn-warning","actionButton",3,"click"],[3,"ngValue"],[1,"isBorrowed"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),e.NdJ("keyup",function(){return i.runSearch()}),e.qZA(),e.TgZ(4,"button",4),e.NdJ("click",function(){return i.renderAddItem()}),e._uU(5,"Add Item"),e.qZA(),e.TgZ(6,"input",5),e.NdJ("click",function(){return i.returnItemFilter()}),e.qZA(),e.TgZ(7,"label",6),e._uU(8,"Borrowed Items"),e.qZA()()(),e.TgZ(9,"div",7)(10,"h1",8),e._uU(11,"Team Inventory"),e.qZA(),e.TgZ(12,"table",9)(13,"tr")(14,"th",10),e._uU(15,"Name"),e.qZA(),e.TgZ(16,"th",10),e._uU(17,"Type"),e.qZA(),e.TgZ(18,"th",10),e._uU(19,"SC Part#"),e.qZA(),e.TgZ(20,"th",10),e._uU(21,"Man. Part#"),e.qZA(),e.TgZ(22,"th",10),e._uU(23,"Location"),e.qZA(),e.TgZ(24,"th",10),e._uU(25,"Amount"),e.qZA(),e.TgZ(26,"th",10),e._uU(27,"Actions"),e.qZA(),e.TgZ(28,"th",10),e._uU(29,"Image"),e.qZA(),e.TgZ(30,"th",10),e._uU(31,"Edit"),e.qZA()(),e.YNc(32,re,23,11,"tr",11),e.qZA(),e.TgZ(33,"p"),e._uU(34," --- End of Items --- "),e.qZA()(),e.TgZ(35,"div",12)(36,"form",13),e.NdJ("ngSubmit",function(){return i.manageItemForm()}),e.TgZ(37,"h3"),e._uU(38),e.qZA(),e.TgZ(39,"div",14)(40,"label"),e._uU(41,"Name"),e.qZA(),e._UZ(42,"input",15),e.qZA(),e.TgZ(43,"div",14)(44,"label"),e._uU(45,"Type"),e.qZA(),e._UZ(46,"br"),e.TgZ(47,"select",16)(48,"option"),e._uU(49,"Part"),e.qZA(),e.TgZ(50,"option"),e._uU(51,"Tool"),e.qZA()()(),e.TgZ(52,"div",14)(53,"label"),e._uU(54,"Internal Part #"),e.qZA(),e._UZ(55,"input",17),e.qZA(),e.TgZ(56,"div",14)(57,"label"),e._uU(58,"Man. Part #"),e.qZA(),e._UZ(59,"input",18),e.qZA(),e.TgZ(60,"div",14)(61,"label"),e._uU(62,"Manufacturer"),e.qZA(),e._UZ(63,"input",19),e.qZA(),e.TgZ(64,"div",14)(65,"label"),e._uU(66,"Link"),e.qZA(),e._UZ(67,"input",20),e.qZA(),e.TgZ(68,"div",14)(69,"label"),e._uU(70,"Location:"),e.qZA(),e._UZ(71,"br"),e.TgZ(72,"select",21),e.NdJ("change",function(){return i.locationUpdate()}),e.TgZ(73,"option",22),e._uU(74,"Custom"),e.qZA(),e._UZ(75,"optgroup",23),e.YNc(76,V,2,2,"option",24),e._UZ(77,"optgroup",25),e.YNc(78,j,2,1,"option",11),e._UZ(79,"optgroup",26),e.YNc(80,W,2,1,"option",11),e._UZ(81,"optgroup",27),e.YNc(82,P,2,1,"option",11),e.qZA(),e._UZ(83,"input",28),e.qZA(),e.TgZ(84,"div",14)(85,"label"),e._uU(86,"Amount"),e.qZA(),e._UZ(87,"input",29),e.TgZ(88,"select",30),e.NdJ("change",function(){return i.locationUpdate()}),e.YNc(89,$,2,2,"option",24),e.qZA()(),e.TgZ(90,"div",14)(91,"label"),e._uU(92,"Description"),e.qZA(),e._UZ(93,"input",31),e.qZA(),e.TgZ(94,"div",14)(95,"label"),e._uU(96,"Borrowable "),e.YNc(97,te,2,0,"span",32),e.qZA(),e.TgZ(98,"input",33),e.NdJ("change",function(){return i.borrowableCheck()}),e.qZA()(),e.TgZ(99,"div",14)(100,"label"),e._uU(101,"Image"),e.qZA(),e.TgZ(102,"input",34),e.NdJ("change",function(o){return i.setImage(o.target.files)}),e.qZA()(),e.TgZ(103,"label"),e._uU(104,"Image Preview"),e.qZA(),e._UZ(105,"br")(106,"img",35),e.TgZ(107,"div",14)(108,"button",36),e._uU(109),e.qZA(),e.TgZ(110,"button",37),e.NdJ("click",function(){return i.cancelItemForm()}),e._uU(111,"Cancel"),e.qZA()()()()()),2&t&&(e.xp6(32),e.Q6J("ngForOf",i.items),e.xp6(4),e.Q6J("formGroup",i.addItemForm),e.xp6(2),e.Oqu(i.submitButtonText),e.xp6(38),e.Q6J("ngForOf",i.elecLocals),e.xp6(2),e.Q6J("ngForOf",i.mechLocals),e.xp6(2),e.Q6J("ngForOf",i.lockerLocals),e.xp6(2),e.Q6J("ngForOf",i.basementLocals),e.xp6(5),e.Q6J("readonly",!0===i.addItemForm.get("isBorrowable").value),e.xp6(1),e.Q6J("value",i.amountUnitOptions[0]),e.xp6(1),e.Q6J("ngForOf",i.amountUnitOptions),e.xp6(8),e.Q6J("ngIf",i.addItemForm.get("isBorrowable").disabled),e.xp6(9),e.s9C("src",i.previewImgUrl,e.LSH),e.xp6(2),e.Q6J("disabled",!i.addItemForm.valid),e.xp6(1),e.Oqu(i.submitButtonText))},dependencies:[A.sg,A.O5,c._Y,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c.JJ,c.JL,c.Q7,c.sg,c.u],styles:[".inventoryContainer[_ngcontent-%COMP%]{width:100%;display:inline-block}.inventoryControls[_ngcontent-%COMP%]{top:0;float:left;width:15%;min-width:175px;padding:1em}.defaultActions[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin-bottom:5px;max-width:90%}.inventoryList[_ngcontent-%COMP%]{float:left;height:95%;width:85%;min-width:500px;padding:1em;overflow:scroll}.itemControlModal[_ngcontent-%COMP%]{display:none;position:fixed;top:0;width:100%;height:100%;padding:2em;z-index:10000;background:white;overflow:scroll}.imageResultsPreview[_ngcontent-%COMP%]{height:50px}.imagePreview[_ngcontent-%COMP%]{height:100px}"]}),r})();var K=m(1857),be=m(1481);const ie=["wrapper"],se=["sourceImage"];function le(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"img",4,5),e.NdJ("load",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.imageLoadedInView())})("mousedown",function(n){e.CHM(t);const o=e.oxw();return e.KtG(o.startMove(n,o.moveTypes.Drag))})("touchstart",function(n){e.CHM(t);const o=e.oxw();return e.KtG(o.startMove(n,o.moveTypes.Drag))})("error",function(n){e.CHM(t);const o=e.oxw();return e.KtG(o.loadImageError(n))}),e.qZA()}if(2&r){const t=e.oxw();e.Udp("visibility",t.imageVisible?"visible":"hidden")("transform",t.safeTransformStyle),e.ekj("ngx-ic-draggable",!t.disabled&&t.allowMoveImage),e.Q6J("src",t.safeImgDataUrl,e.LSH),e.uIk("alt",t.imageAltText)}}function ce(r,s){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"span",9),e.NdJ("mousedown",function(n){e.CHM(t);const o=e.oxw(2);return e.KtG(o.startMove(n,o.moveTypes.Resize,"topleft"))})("touchstart",function(n){e.CHM(t);const o=e.oxw(2);return e.KtG(o.startMove(n,o.moveTypes.Resize,"topleft"))}),e._UZ(2,"span",10),e.qZA(),e.TgZ(3,"span",11),e._UZ(4,"span",10),e.qZA(),e.TgZ(5,"span",12),e.NdJ("mousedown",function(n){e.CHM(t);const o=e.oxw(2);return e.KtG(o.startMove(n,o.moveTypes.Resize,"topright"))})("touchstart",function(n){e.CHM(t);const o=e.oxw(2);return e.KtG(o.startMove(n,o.moveTypes.Resize,"topright"))}),e._UZ(6,"span",10),e.qZA(),e.TgZ(7,"span",13),e._UZ(8,"span",10),e.qZA(),e.TgZ(9,"span",14),e.NdJ("mousedown",function(n){e.CHM(t);const o=e.oxw(2);return e.KtG(o.startMove(n,o.moveTypes.Resize,"bottomright"))})("touchstart",function(n){e.CHM(t);const o=e.oxw(2);return e.KtG(o.startMove(n,o.moveTypes.Resize,"bottomright"))}),e._UZ(10,"span",10),e.qZA(),e.TgZ(11,"span",15),e._UZ(12,"span",10),e.qZA(),e.TgZ(13,"span",16),e.NdJ("mousedown",function(n){e.CHM(t);const o=e.oxw(2);return e.KtG(o.startMove(n,o.moveTypes.Resize,"bottomleft"))})("touchstart",function(n){e.CHM(t);const o=e.oxw(2);return e.KtG(o.startMove(n,o.moveTypes.Resize,"bottomleft"))}),e._UZ(14,"span",10),e.qZA(),e.TgZ(15,"span",17),e._UZ(16,"span",10),e.qZA(),e.TgZ(17,"span",18),e.NdJ("mousedown",function(n){e.CHM(t);const o=e.oxw(2);return e.KtG(o.startMove(n,o.moveTypes.Resize,"top"))})("touchstart",function(n){e.CHM(t);const o=e.oxw(2);return e.KtG(o.startMove(n,o.moveTypes.Resize,"top"))}),e.qZA(),e.TgZ(18,"span",19),e.NdJ("mousedown",function(n){e.CHM(t);const o=e.oxw(2);return e.KtG(o.startMove(n,o.moveTypes.Resize,"right"))})("touchstart",function(n){e.CHM(t);const o=e.oxw(2);return e.KtG(o.startMove(n,o.moveTypes.Resize,"right"))}),e.qZA(),e.TgZ(19,"span",20),e.NdJ("mousedown",function(n){e.CHM(t);const o=e.oxw(2);return e.KtG(o.startMove(n,o.moveTypes.Resize,"bottom"))})("touchstart",function(n){e.CHM(t);const o=e.oxw(2);return e.KtG(o.startMove(n,o.moveTypes.Resize,"bottom"))}),e.qZA(),e.TgZ(20,"span",21),e.NdJ("mousedown",function(n){e.CHM(t);const o=e.oxw(2);return e.KtG(o.startMove(n,o.moveTypes.Resize,"left"))})("touchstart",function(n){e.CHM(t);const o=e.oxw(2);return e.KtG(o.startMove(n,o.moveTypes.Resize,"left"))}),e.qZA(),e.BQk()}}function ge(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"div",6),e.NdJ("keydown",function(n){e.CHM(t);const o=e.oxw();return e.KtG(o.keyboardAccess(n))}),e.TgZ(1,"div",7),e.NdJ("mousedown",function(n){e.CHM(t);const o=e.oxw();return e.KtG(o.startMove(n,o.moveTypes.Move))})("touchstart",function(n){e.CHM(t);const o=e.oxw();return e.KtG(o.startMove(n,o.moveTypes.Move))}),e.qZA(),e.YNc(2,ce,21,0,"ng-container",8),e.qZA()}if(2&r){const t=e.oxw();e.Udp("top",t.cropper.y1,"px")("left",t.cropper.x1,"px")("width",t.cropper.x2-t.cropper.x1,"px")("height",t.cropper.y2-t.cropper.y1,"px")("margin-left","center"===t.alignImage?t.marginLeft:null)("visibility",t.imageVisible?"visible":"hidden"),e.ekj("ngx-ic-round",t.roundCropper),e.xp6(2),e.Q6J("ngIf",!t.hideResizeSquares)}}class fe{constructor(){this.format="png",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resetCropOnAspectRatioChange=!0,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperMaxHeight=0,this.cropperMaxWidth=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.backgroundColor=null,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.alignImage="center",this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=this.initialStepSize}setOptions(s){Object.keys(s).filter(t=>t in this).forEach(t=>this[t]=s[t]),this.validateOptions()}setOptionsFromChanges(s){Object.keys(s).filter(t=>t in this).forEach(t=>this[t]=s[t].currentValue),this.validateOptions()}validateOptions(){if(this.maintainAspectRatio&&!this.aspectRatio)throw new Error("`aspectRatio` should > 0 when `maintainAspectRatio` is enabled")}}var Q=(()=>{return(r=Q||(Q={})).Drag="drag",r.Move="move",r.Resize="resize",r.Pinch="pinch",Q;var r})();function Ce(r,s){return r/100*s}let qe=(()=>{class r{crop(t,i,n,o){const a=this.getImagePosition(t,i,n,o),l=a.x2-a.x1,v=a.y2-a.y1,C=document.createElement("canvas");C.width=l,C.height=v;const Z=C.getContext("2d");if(!Z)return null;null!=o.backgroundColor&&(Z.fillStyle=o.backgroundColor,Z.fillRect(0,0,l,v));const T=(o.transform.scale||1)*(o.transform.flipH?-1:1),B=(o.transform.scale||1)*(o.transform.flipV?-1:1),{translateH:O,translateV:Y}=this.getCanvasTranslate(t,i,o),L=i.transformed;Z.setTransform(T,0,0,B,L.size.width/2+O,L.size.height/2+Y),Z.translate(-a.x1/T,-a.y1/B),Z.rotate((o.transform.rotate||0)*Math.PI/180),Z.drawImage(L.image,-L.size.width/2,-L.size.height/2);const J={width:l,height:v,imagePosition:a,cropperPosition:{...n}};o.containWithinAspectRatio&&(J.offsetImagePosition=this.getOffsetImagePosition(t,i,n,o));const ne=this.getResizeRatio(l,v,o);return 1!==ne&&(J.width=Math.round(l*ne),J.height=o.maintainAspectRatio?Math.round(J.width/o.aspectRatio):Math.round(v*ne),function Ee(r,s,t){const i=r.width,n=r.height,o=i/(s=Math.round(s)),a=n/(t=Math.round(t)),l=Math.ceil(o/2),v=Math.ceil(a/2),C=r.getContext("2d");if(C){const Z=C.getImageData(0,0,i,n),T=C.createImageData(s,t),B=Z.data,O=T.data;for(let Y=0;Y<t;Y++)for(let L=0;L<s;L++){const J=4*(L+Y*s),ne=Y*a;let G=0,oe=0,Ze=0,Te=0,Ue=0,Me=0,Se=0;const Nt=Math.floor(L*o),kt=Math.floor(Y*a);let Ae=Math.ceil((L+1)*o),we=Math.ceil((Y+1)*a);Ae=Math.min(Ae,i),we=Math.min(we,n);for(let _e=kt;_e<we;_e++){const Fe=Math.abs(ne-_e)/v,Ot=L*o,Rt=Fe*Fe;for(let ve=Nt;ve<Ae;ve++){const Ie=Math.abs(Ot-ve)/l,de=Math.sqrt(Rt+Ie*Ie);if(de>=1)continue;G=2*de*de*de-3*de*de+1;const me=4*(ve+_e*i);Se+=G*B[me+3],Ze+=G,B[me+3]<255&&(G=G*B[me+3]/250),Te+=G*B[me],Ue+=G*B[me+1],Me+=G*B[me+2],oe+=G}}O[J]=Te/oe,O[J+1]=Ue/oe,O[J+2]=Me/oe,O[J+3]=Se/Ze}r.width=s,r.height=t,C.putImageData(T,0,0)}}(C,J.width,J.height)),J.base64=C.toDataURL("image/"+o.format,this.getQuality(o)),J}getCanvasTranslate(t,i,n){if("px"===n.transform.translateUnit){const o=this.getRatio(t,i);return{translateH:(n.transform.translateH||0)*o,translateV:(n.transform.translateV||0)*o}}return{translateH:n.transform.translateH?Ce(n.transform.translateH,i.transformed.size.width):0,translateV:n.transform.translateV?Ce(n.transform.translateV,i.transformed.size.height):0}}getRatio(t,i){return i.transformed.size.width/t.nativeElement.offsetWidth}getImagePosition(t,i,n,o){const a=this.getRatio(t,i),l={x1:Math.round(n.x1*a),y1:Math.round(n.y1*a),x2:Math.round(n.x2*a),y2:Math.round(n.y2*a)};return o.containWithinAspectRatio||(l.x1=Math.max(l.x1,0),l.y1=Math.max(l.y1,0),l.x2=Math.min(l.x2,i.transformed.size.width),l.y2=Math.min(l.y2,i.transformed.size.height)),l}getOffsetImagePosition(t,i,n,o){const v=i.transformed.size.width/t.nativeElement.offsetWidth;let C,Z;(o.canvasRotation+i.exifTransform.rotate)%2?(C=(i.transformed.size.width-i.original.size.height)/2,Z=(i.transformed.size.height-i.original.size.width)/2):(C=(i.transformed.size.width-i.original.size.width)/2,Z=(i.transformed.size.height-i.original.size.height)/2);const T={x1:Math.round(n.x1*v)-C,y1:Math.round(n.y1*v)-Z,x2:Math.round(n.x2*v)-C,y2:Math.round(n.y2*v)-Z};return o.containWithinAspectRatio||(T.x1=Math.max(T.x1,0),T.y1=Math.max(T.y1,0),T.x2=Math.min(T.x2,i.transformed.size.width),T.y2=Math.min(T.y2,i.transformed.size.height)),T}getResizeRatio(t,i,n){const o=n.resizeToWidth/t,a=n.resizeToHeight/i,l=new Array;n.resizeToWidth>0&&l.push(o),n.resizeToHeight>0&&l.push(a);const v=0===l.length?1:Math.min(...l);return v>1&&!n.onlyScaleDown?v:Math.min(v,1)}getQuality(t){return Math.min(1,Math.max(0,t.imageQuality/100))}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Ne=(()=>{class r{resetCropperPosition(t,i,n){if(null==t||!t.nativeElement)return;const o=t.nativeElement;if(n.cropperStaticHeight&&n.cropperStaticWidth)i.x1=0,i.x2=o.offsetWidth>n.cropperStaticWidth?n.cropperStaticWidth:o.offsetWidth,i.y1=0,i.y2=o.offsetHeight>n.cropperStaticHeight?n.cropperStaticHeight:o.offsetHeight;else{const a=Math.min(n.cropperScaledMaxWidth,o.offsetWidth),l=Math.min(n.cropperScaledMaxHeight,o.offsetHeight);if(n.maintainAspectRatio)if(o.offsetWidth/n.aspectRatio<o.offsetHeight){i.x1=0,i.x2=a;const v=a/n.aspectRatio;i.y1=(o.offsetHeight-v)/2,i.y2=i.y1+v}else{i.y1=0,i.y2=l;const v=l*n.aspectRatio;i.x1=(o.offsetWidth-v)/2,i.x2=i.x1+v}else i.x1=0,i.x2=a,i.y1=0,i.y2=l}}move(t,i,n){const o=this.getClientX(t)-i.clientX,a=this.getClientY(t)-i.clientY;n.x1=i.x1+o,n.y1=i.y1+a,n.x2=i.x2+o,n.y2=i.y2+a}resize(t,i,n,o,a){const l=this.getClientX(t)-i.clientX,v=this.getClientY(t)-i.clientY;switch(i.position){case"left":n.x1=Math.min(Math.max(i.x1+l,n.x2-a.cropperScaledMaxWidth),n.x2-a.cropperScaledMinWidth);break;case"topleft":n.x1=Math.min(Math.max(i.x1+l,n.x2-a.cropperScaledMaxWidth),n.x2-a.cropperScaledMinWidth),n.y1=Math.min(Math.max(i.y1+v,n.y2-a.cropperScaledMaxHeight),n.y2-a.cropperScaledMinHeight);break;case"top":n.y1=Math.min(Math.max(i.y1+v,n.y2-a.cropperScaledMaxHeight),n.y2-a.cropperScaledMinHeight);break;case"topright":n.x2=Math.max(Math.min(i.x2+l,n.x1+a.cropperScaledMaxWidth),n.x1+a.cropperScaledMinWidth),n.y1=Math.min(Math.max(i.y1+v,n.y2-a.cropperScaledMaxHeight),n.y2-a.cropperScaledMinHeight);break;case"right":n.x2=Math.max(Math.min(i.x2+l,n.x1+a.cropperScaledMaxWidth),n.x1+a.cropperScaledMinWidth);break;case"bottomright":n.x2=Math.max(Math.min(i.x2+l,n.x1+a.cropperScaledMaxWidth),n.x1+a.cropperScaledMinWidth),n.y2=Math.max(Math.min(i.y2+v,n.y1+a.cropperScaledMaxHeight),n.y1+a.cropperScaledMinHeight);break;case"bottom":n.y2=Math.max(Math.min(i.y2+v,n.y1+a.cropperScaledMaxHeight),n.y1+a.cropperScaledMinHeight);break;case"bottomleft":n.x1=Math.min(Math.max(i.x1+l,n.x2-a.cropperScaledMaxWidth),n.x2-a.cropperScaledMinWidth),n.y2=Math.max(Math.min(i.y2+v,n.y1+a.cropperScaledMaxHeight),n.y1+a.cropperScaledMinHeight);break;case"center":const C=t.scale,Z=Math.min(Math.max(a.cropperScaledMinWidth,Math.abs(i.x2-i.x1)*C),a.cropperScaledMaxWidth),T=Math.min(Math.max(a.cropperScaledMinHeight,Math.abs(i.y2-i.y1)*C),a.cropperScaledMaxHeight);n.x1=i.clientX-Z/2,n.x2=i.clientX+Z/2,n.y1=i.clientY-T/2,n.y2=i.clientY+T/2,n.x1<0?(n.x2-=n.x1,n.x1=0):n.x2>o.width&&(n.x1-=n.x2-o.width,n.x2=o.width),n.y1<0?(n.y2-=n.y1,n.y1=0):n.y2>o.height&&(n.y1-=n.y2-o.height,n.y2=o.height)}a.maintainAspectRatio&&this.checkAspectRatio(i.position,n,o,a)}checkAspectRatio(t,i,n,o){let a=0,l=0;switch(t){case"top":i.x2=i.x1+(i.y2-i.y1)*o.aspectRatio,a=Math.max(i.x2-n.width,0),l=Math.max(0-i.y1,0),(a>0||l>0)&&(i.x2-=l*o.aspectRatio>a?l*o.aspectRatio:a,i.y1+=l*o.aspectRatio>a?l:a/o.aspectRatio);break;case"bottom":i.x2=i.x1+(i.y2-i.y1)*o.aspectRatio,a=Math.max(i.x2-n.width,0),l=Math.max(i.y2-n.height,0),(a>0||l>0)&&(i.x2-=l*o.aspectRatio>a?l*o.aspectRatio:a,i.y2-=l*o.aspectRatio>a?l:a/o.aspectRatio);break;case"topleft":i.y1=i.y2-(i.x2-i.x1)/o.aspectRatio,a=Math.max(0-i.x1,0),l=Math.max(0-i.y1,0),(a>0||l>0)&&(i.x1+=l*o.aspectRatio>a?l*o.aspectRatio:a,i.y1+=l*o.aspectRatio>a?l:a/o.aspectRatio);break;case"topright":i.y1=i.y2-(i.x2-i.x1)/o.aspectRatio,a=Math.max(i.x2-n.width,0),l=Math.max(0-i.y1,0),(a>0||l>0)&&(i.x2-=l*o.aspectRatio>a?l*o.aspectRatio:a,i.y1+=l*o.aspectRatio>a?l:a/o.aspectRatio);break;case"right":case"bottomright":i.y2=i.y1+(i.x2-i.x1)/o.aspectRatio,a=Math.max(i.x2-n.width,0),l=Math.max(i.y2-n.height,0),(a>0||l>0)&&(i.x2-=l*o.aspectRatio>a?l*o.aspectRatio:a,i.y2-=l*o.aspectRatio>a?l:a/o.aspectRatio);break;case"left":case"bottomleft":i.y2=i.y1+(i.x2-i.x1)/o.aspectRatio,a=Math.max(0-i.x1,0),l=Math.max(i.y2-n.height,0),(a>0||l>0)&&(i.x1+=l*o.aspectRatio>a?l*o.aspectRatio:a,i.y2-=l*o.aspectRatio>a?l:a/o.aspectRatio);break;case"center":i.x2=i.x1+(i.y2-i.y1)*o.aspectRatio,i.y2=i.y1+(i.x2-i.x1)/o.aspectRatio;const v=Math.max(0-i.x1,0),C=Math.max(i.x2-n.width,0),Z=Math.max(i.y2-n.height,0),T=Math.max(0-i.y1,0);(v>0||C>0||Z>0||T>0)&&(i.x1+=Z*o.aspectRatio>v?Z*o.aspectRatio:v,i.x2-=T*o.aspectRatio>C?T*o.aspectRatio:C,i.y1+=T*o.aspectRatio>C?T:C/o.aspectRatio,i.y2-=Z*o.aspectRatio>v?Z:v/o.aspectRatio)}}getClientX(t){var i;return(null===(i=t.touches)||void 0===i?void 0:i[0].clientX)||t.clientX||0}getClientY(t){var i;return(null===(i=t.touches)||void 0===i?void 0:i[0].clientY)||t.clientY||0}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();let Be=(()=>{class r{constructor(){this.autoRotateSupported=function Oe(){return new Promise(r=>{const s=new Image;s.onload=()=>{r(1===s.width&&2===s.height)},s.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=="})}()}loadImageFile(t,i){return new Promise((n,o)=>{const a=new FileReader;a.onload=l=>{this.loadImage(l.target.result,t.type,i).then(n).catch(o)},a.readAsDataURL(t)})}loadImage(t,i,n){return this.isValidImageType(i)?this.loadBase64Image(t,n):Promise.reject(new Error("Invalid image type"))}isValidImageType(t){return/image\/(png|jpg|jpeg|bmp|gif|tiff|webp|x-icon|vnd.microsoft.icon)/.test(t)}loadImageFromURL(t,i){return new Promise((n,o)=>{const a=new Image;a.onerror=()=>o,a.onload=()=>{const l=document.createElement("canvas"),v=l.getContext("2d");l.width=a.width,l.height=a.height,v?.drawImage(a,0,0),this.loadBase64Image(l.toDataURL(),i).then(n)},a.crossOrigin="anonymous",a.src=t})}loadBase64Image(t,i){return new Promise((n,o)=>{const a=new Image;a.onload=()=>n({originalImage:a,originalBase64:t}),a.onerror=o,a.src=t}).then(n=>this.transformImageBase64(n,i))}transformImageBase64(t,i){var n=this;return(0,x.Z)(function*(){const o=yield n.autoRotateSupported,a=yield function Re(r){switch("string"==typeof r&&(r=function Pe(r){const s=new DataView(function He(r){r=r.replace(/^data\:([^\;]+)\;base64,/gim,"");const s=atob(r),t=s.length,i=new Uint8Array(t);for(let n=0;n<t;n++)i[n]=s.charCodeAt(n);return i.buffer}(r));if(65496!==s.getUint16(0,!1))return-2;const t=s.byteLength;let i=2;for(;i<t;){if(s.getUint16(i+2,!1)<=8)return-1;const n=s.getUint16(i,!1);if(i+=2,65505==n){if(1165519206!==s.getUint32(i+=2,!1))return-1;const o=18761==s.getUint16(i+=6,!1);i+=s.getUint32(i+4,o);const a=s.getUint16(i,o);i+=2;for(let l=0;l<a;l++)if(274==s.getUint16(i+12*l,o))return s.getUint16(i+12*l+8,o)}else{if(65280!=(65280&n))break;i+=s.getUint16(i,!1)}}return-1}(r)),r){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}(o?-1:t.originalBase64);return t.originalImage&&t.originalImage.complete?n.transformLoadedImage({original:{base64:t.originalBase64,image:t.originalImage,size:{width:t.originalImage.naturalWidth,height:t.originalImage.naturalHeight}},exifTransform:a},i):Promise.reject(new Error("No image loaded"))})()}transformLoadedImage(t,i){var n=this;return(0,x.Z)(function*(){const o=i.canvasRotation+t.exifTransform.rotate,a={width:t.original.image.naturalWidth,height:t.original.image.naturalHeight};if(0===o&&!t.exifTransform.flip&&!i.containWithinAspectRatio)return{original:{base64:t.original.base64,image:t.original.image,size:{...a}},transformed:{base64:t.original.base64,image:t.original.image,size:{...a}},exifTransform:t.exifTransform};const l=n.getTransformedSize(a,t.exifTransform,i),v=document.createElement("canvas");v.width=l.width,v.height=l.height;const C=v.getContext("2d");C?.setTransform(t.exifTransform.flip?-1:1,0,0,1,v.width/2,v.height/2),C?.rotate(Math.PI*(o/2)),C?.drawImage(t.original.image,-a.width/2,-a.height/2);const Z=v.toDataURL(),T=yield n.loadImageFromBase64(Z);return{original:{base64:t.original.base64,image:t.original.image,size:{...a}},transformed:{base64:Z,image:T,size:{width:T.width,height:T.height}},exifTransform:t.exifTransform}})()}loadImageFromBase64(t){return new Promise((i,n)=>{const o=new Image;o.onload=()=>i(o),o.onerror=n,o.src=t})}getTransformedSize(t,i,n){const o=n.canvasRotation+i.rotate;if(n.containWithinAspectRatio){if(o%2){const l=t.height/n.aspectRatio;return{width:Math.max(t.height,t.width*n.aspectRatio),height:Math.max(t.width,l)}}{const l=t.width/n.aspectRatio;return{width:Math.max(t.width,t.height*n.aspectRatio),height:Math.max(t.height,l)}}}return o%2?{height:t.width,width:t.height}:{width:t.width,height:t.height}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),ye=(()=>{class r{constructor(t,i,n,o,a){var l;this.cropService=t,this.cropperPositionService=i,this.loadImageService=n,this.sanitizer=o,this.cd=a,this.Hammer=(null===(l=window)||void 0===l?void 0:l.Hammer)||null,this.settings=new fe,this.setImageMaxSizeRetries=0,this.resizedWhileHidden=!1,this.marginLeft="0px",this.maxSize={width:0,height:0},this.moveTypes=Q,this.imageVisible=!1,this.format=this.settings.format,this.transform={},this.maintainAspectRatio=this.settings.maintainAspectRatio,this.aspectRatio=this.settings.aspectRatio,this.resetCropOnAspectRatioChange=this.settings.resetCropOnAspectRatioChange,this.resizeToWidth=this.settings.resizeToWidth,this.resizeToHeight=this.settings.resizeToHeight,this.cropperMinWidth=this.settings.cropperMinWidth,this.cropperMinHeight=this.settings.cropperMinHeight,this.cropperMaxHeight=this.settings.cropperMaxHeight,this.cropperMaxWidth=this.settings.cropperMaxWidth,this.cropperStaticWidth=this.settings.cropperStaticWidth,this.cropperStaticHeight=this.settings.cropperStaticHeight,this.canvasRotation=this.settings.canvasRotation,this.initialStepSize=this.settings.initialStepSize,this.roundCropper=this.settings.roundCropper,this.onlyScaleDown=this.settings.onlyScaleDown,this.imageQuality=this.settings.imageQuality,this.autoCrop=this.settings.autoCrop,this.backgroundColor=this.settings.backgroundColor,this.containWithinAspectRatio=this.settings.containWithinAspectRatio,this.hideResizeSquares=this.settings.hideResizeSquares,this.allowMoveImage=!1,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage=this.settings.alignImage,this.disabled=!1,this.hidden=!1,this.imageCropped=new e.vpe,this.startCropImage=new e.vpe,this.imageLoaded=new e.vpe,this.cropperReady=new e.vpe,this.loadImageFailed=new e.vpe,this.transformChange=new e.vpe,this.reset()}ngOnChanges(t){var i;this.onChangesUpdateSettings(t),this.onChangesInputImage(t),null!==(i=this.loadedImage)&&void 0!==i&&i.original.image.complete&&(t.containWithinAspectRatio||t.canvasRotation)&&this.loadImageService.transformLoadedImage(this.loadedImage,this.settings).then(n=>this.setLoadedImage(n)).catch(n=>this.loadImageError(n)),(t.cropper||t.maintainAspectRatio||t.aspectRatio)&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),!this.maintainAspectRatio||!this.resetCropOnAspectRatioChange&&this.aspectRatioIsCorrect()||!t.maintainAspectRatio&&!t.aspectRatio?t.cropper&&(this.checkCropperPosition(!1),this.doAutoCrop()):this.resetCropperPosition(),this.cd.markForCheck()),t.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop(),this.cd.markForCheck()),t.hidden&&this.resizedWhileHidden&&!this.hidden&&setTimeout(()=>{this.onResize(),this.resizedWhileHidden=!1})}onChangesUpdateSettings(t){this.settings.setOptionsFromChanges(t),this.settings.cropperStaticHeight&&this.settings.cropperStaticWidth&&this.settings.setOptions({hideResizeSquares:!0,cropperMinWidth:this.settings.cropperStaticWidth,cropperMinHeight:this.settings.cropperStaticHeight,cropperMaxHeight:this.settings.cropperStaticHeight,cropperMaxWidth:this.settings.cropperStaticWidth,maintainAspectRatio:!1})}onChangesInputImage(t){(t.imageChangedEvent||t.imageURL||t.imageBase64||t.imageFile)&&this.reset(),t.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),t.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),t.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),t.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}isValidImageChangedEvent(){var t,i,n;return(null===(t=this.imageChangedEvent)||void 0===t||null===(i=t.target)||void 0===i||null===(n=i.files)||void 0===n?void 0:n.length)>0}setCssTransform(){var t;const i=(null===(t=this.transform)||void 0===t?void 0:t.translateUnit)||"%";this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle(`translate(${this.transform.translateH||0}${i}, ${this.transform.translateV||0}${i}) scaleX(`+(this.transform.scale||1)*(this.transform.flipH?-1:1)+") scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+") rotate("+(this.transform.rotate||0)+"deg)")}ngOnInit(){this.settings.stepSize=this.initialStepSize,this.activatePinchGesture()}reset(){this.imageVisible=!1,this.loadedImage=void 0,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}loadImageFile(t){this.loadImageService.loadImageFile(t,this.settings).then(i=>this.setLoadedImage(i)).catch(i=>this.loadImageError(i))}loadBase64Image(t){this.loadImageService.loadBase64Image(t,this.settings).then(i=>this.setLoadedImage(i)).catch(i=>this.loadImageError(i))}loadImageFromURL(t){this.loadImageService.loadImageFromURL(t,this.settings).then(i=>this.setLoadedImage(i)).catch(i=>this.loadImageError(i))}setLoadedImage(t){this.loadedImage=t,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(t.transformed.base64),this.cd.markForCheck()}loadImageError(t){console.error(t),this.loadImageFailed.emit()}imageLoadedInView(){null!=this.loadedImage&&(this.imageLoaded.emit(this.loadedImage),this.setImageMaxSizeRetries=0,setTimeout(()=>this.checkImageMaxSizeRecursively()))}checkImageMaxSizeRecursively(){this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.resetCropperPosition(),this.cropperReady.emit({...this.maxSize}),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(()=>this.checkImageMaxSizeRecursively(),50))}sourceImageLoaded(){var t,i;return(null===(t=this.sourceImage)||void 0===t||null===(i=t.nativeElement)||void 0===i?void 0:i.offsetWidth)>0}onResize(){!this.loadedImage||(this.hidden?this.resizedWhileHidden=!0:(this.resizeCropperPosition(),this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize()))}activatePinchGesture(){if(this.Hammer){const t=new this.Hammer(this.wrapper.nativeElement);t.get("pinch").set({enable:!0}),t.on("pinchmove",this.onPinch.bind(this)),t.on("pinchend",this.pinchStop.bind(this)),t.on("pinchstart",this.startPinch.bind(this))}else(0,e.X6Q)()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")}resizeCropperPosition(){const t=this.sourceImage.nativeElement;(this.maxSize.width!==t.offsetWidth||this.maxSize.height!==t.offsetHeight)&&(this.cropper.x1=this.cropper.x1*t.offsetWidth/this.maxSize.width,this.cropper.x2=this.cropper.x2*t.offsetWidth/this.maxSize.width,this.cropper.y1=this.cropper.y1*t.offsetHeight/this.maxSize.height,this.cropper.y2=this.cropper.y2*t.offsetHeight/this.maxSize.height)}resetCropperPosition(){this.cropperPositionService.resetCropperPosition(this.sourceImage,this.cropper,this.settings),this.doAutoCrop(),this.imageVisible=!0}keyboardAccess(t){this.changeKeyboardStepSize(t),this.keyboardMoveCropper(t)}changeKeyboardStepSize(t){const i=+t.key;i>=1&&i<=9&&(this.settings.stepSize=i)}keyboardMoveCropper(t){if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key))return;const n=t.shiftKey?Q.Resize:Q.Move,o=t.altKey?function xe(r){switch(r){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";default:return"right"}}(t.key):function ue(r){switch(r){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";default:return"left"}}(t.key),a=function pe(r,s){switch(r){case"ArrowUp":return{clientX:0,clientY:-1*s};case"ArrowRight":return{clientX:s,clientY:0};case"ArrowDown":return{clientX:0,clientY:s};default:return{clientX:-1*s,clientY:0}}}(t.key,this.settings.stepSize);t.preventDefault(),t.stopPropagation(),this.startMove({clientX:0,clientY:0},n,o),this.moveImg(a),this.moveStop()}startMove(t,i,n=null){var o,a;this.disabled||null!==(o=this.moveStart)&&void 0!==o&&o.active&&(null===(a=this.moveStart)||void 0===a?void 0:a.type)===Q.Pinch||i===Q.Drag&&!this.allowMoveImage||(t.preventDefault&&t.preventDefault(),this.moveStart={active:!0,type:i,position:n,transform:{...this.transform},clientX:this.cropperPositionService.getClientX(t),clientY:this.cropperPositionService.getClientY(t),...this.cropper})}startPinch(t){!this.safeImgDataUrl||(t.preventDefault&&t.preventDefault(),this.moveStart={active:!0,type:Q.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2,...this.cropper})}moveImg(t){if(this.moveStart.active){if(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.moveStart.type===Q.Move)this.cropperPositionService.move(t,this.moveStart,this.cropper),this.checkCropperPosition(!0);else if(this.moveStart.type===Q.Resize)!this.cropperStaticWidth&&!this.cropperStaticHeight&&this.cropperPositionService.resize(t,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1);else if(this.moveStart.type===Q.Drag){var i,n;const o=this.cropperPositionService.getClientX(t)-this.moveStart.clientX,a=this.cropperPositionService.getClientY(t)-this.moveStart.clientY;this.transform={...this.transform,translateH:((null===(i=this.moveStart.transform)||void 0===i?void 0:i.translateH)||0)+o,translateV:((null===(n=this.moveStart.transform)||void 0===n?void 0:n.translateV)||0)+a},this.setCssTransform()}this.cd.detectChanges()}}onPinch(t){this.moveStart.active&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.moveStart.type===Q.Pinch&&(this.cropperPositionService.resize(t,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}setMaxSize(){if(this.sourceImage){const t=this.sourceImage.nativeElement;this.maxSize.width=t.offsetWidth,this.maxSize.height=t.offsetHeight,this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}setCropperScaledMinSize(){var t,i;null!==(t=this.loadedImage)&&void 0!==t&&null!==(i=t.transformed)&&void 0!==i&&i.image?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.settings.cropperScaledMinWidth=20,this.settings.cropperScaledMinHeight=20)}setCropperScaledMinWidth(){this.settings.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.loadedImage.transformed.image.width*this.maxSize.width):20}setCropperScaledMinHeight(){this.settings.cropperScaledMinHeight=this.maintainAspectRatio?Math.max(20,this.settings.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?Math.max(20,this.cropperMinHeight/this.loadedImage.transformed.image.height*this.maxSize.height):20}setCropperScaledMaxSize(){var t,i;if(null!==(t=this.loadedImage)&&void 0!==t&&null!==(i=t.transformed)&&void 0!==i&&i.image){const n=this.loadedImage.transformed.size.width/this.maxSize.width;this.settings.cropperScaledMaxWidth=this.cropperMaxWidth>20?this.cropperMaxWidth/n:this.maxSize.width,this.settings.cropperScaledMaxHeight=this.cropperMaxHeight>20?this.cropperMaxHeight/n:this.maxSize.height,this.maintainAspectRatio&&(this.settings.cropperScaledMaxWidth>this.settings.cropperScaledMaxHeight*this.aspectRatio?this.settings.cropperScaledMaxWidth=this.settings.cropperScaledMaxHeight*this.aspectRatio:this.settings.cropperScaledMaxWidth<this.settings.cropperScaledMaxHeight*this.aspectRatio&&(this.settings.cropperScaledMaxHeight=this.settings.cropperScaledMaxWidth/this.aspectRatio))}else this.settings.cropperScaledMaxWidth=this.maxSize.width,this.settings.cropperScaledMaxHeight=this.maxSize.height}checkCropperPosition(t=!1){this.cropper.x1<0&&(this.cropper.x2-=t?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=t?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=t?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=t?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}moveStop(){var t;this.moveStart.active&&(this.moveStart.active=!1,(null===(t=this.moveStart)||void 0===t?void 0:t.type)===Q.Drag?this.transformChange.emit(this.transform):this.doAutoCrop())}pinchStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}doAutoCrop(){this.autoCrop&&this.crop()}crop(){var t,i;if(null!=(null===(t=this.loadedImage)||void 0===t||null===(i=t.transformed)||void 0===i?void 0:i.image)){this.startCropImage.emit();const n=this.cropService.crop(this.sourceImage,this.loadedImage,this.cropper,this.settings);return null!=n&&this.imageCropped.emit(n),n}return null}aspectRatioIsCorrect(){return(this.cropper.x2-this.cropper.x1)/(this.cropper.y2-this.cropper.y1)===this.aspectRatio}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(qe),e.Y36(Ne),e.Y36(Be),e.Y36(be.H7),e.Y36(e.sBO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["image-cropper"]],viewQuery:function(t,i){if(1&t&&(e.Gf(ie,7),e.Gf(se,5)),2&t){let n;e.iGM(n=e.CRH())&&(i.wrapper=n.first),e.iGM(n=e.CRH())&&(i.sourceImage=n.first)}},hostVars:6,hostBindings:function(t,i){1&t&&e.NdJ("resize",function(){return i.onResize()},!1,e.Jf7)("mousemove",function(o){return i.moveImg(o)},!1,e.evT)("touchmove",function(o){return i.moveImg(o)},!1,e.evT)("mouseup",function(){return i.moveStop()},!1,e.evT)("touchend",function(){return i.moveStop()},!1,e.evT),2&t&&(e.Udp("text-align",i.alignImage),e.ekj("disabled",i.disabled)("ngx-ix-hidden",i.hidden))},inputs:{imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile",imageAltText:"imageAltText",format:"format",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resetCropOnAspectRatioChange:"resetCropOnAspectRatioChange",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",allowMoveImage:"allowMoveImage",cropper:"cropper",alignImage:"alignImage",disabled:"disabled",hidden:"hidden"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed",transformChange:"transformChange"},features:[e.TTD],decls:5,vars:10,consts:[["wrapper",""],["class","ngx-ic-source-image",3,"src","visibility","transform","ngx-ic-draggable","load","mousedown","touchstart","error",4,"ngIf"],[1,"ngx-ic-overlay"],["class","ngx-ic-cropper","tabindex","0",3,"ngx-ic-round","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],[1,"ngx-ic-source-image",3,"src","load","mousedown","touchstart","error"],["sourceImage",""],["tabindex","0",1,"ngx-ic-cropper",3,"keydown"],[1,"ngx-ic-move",3,"mousedown","touchstart"],[4,"ngIf"],[1,"ngx-ic-resize","ngx-ic-topleft",3,"mousedown","touchstart"],[1,"ngx-ic-square"],[1,"ngx-ic-resize","ngx-ic-top"],[1,"ngx-ic-resize","ngx-ic-topright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-right"],[1,"ngx-ic-resize","ngx-ic-bottomright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-bottom"],[1,"ngx-ic-resize","ngx-ic-bottomleft",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-left"],[1,"ngx-ic-resize-bar","ngx-ic-top",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-right",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-bottom",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-left",3,"mousedown","touchstart"]],template:function(t,i){1&t&&(e.TgZ(0,"div",null,0),e.YNc(2,le,2,8,"img",1),e._UZ(3,"div",2),e.YNc(4,ge,3,15,"div",3),e.qZA()),2&t&&(e.Udp("background",i.imageVisible&&i.backgroundColor),e.xp6(2),e.Q6J("ngIf",i.safeImgDataUrl),e.xp6(1),e.Udp("width",i.maxSize.width,"px")("height",i.maxSize.height,"px")("margin-left","center"===i.alignImage?i.marginLeft:null),e.xp6(1),e.Q6J("ngIf",i.imageVisible))},dependencies:[A.O5],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image.ngx-ic-draggable[_ngcontent-%COMP%]{user-drag:none;-webkit-user-drag:none;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;cursor:grab}[_nghost-%COMP%]   .ngx-ic-overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{outline-width:100vh}}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";inset:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:focus   .ngx-ic-move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]   .ngx-ic-square[_ngcontent-%COMP%]{display:inline-block;background:#53535C;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{display:none}.ngx-ix-hidden[_nghost-%COMP%]{display:none}'],changeDetection:0}),r})(),Le=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[A.ez]]}),r})();function ze(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"div")(1,"textarea",18),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw();return e.KtG(o.markdown=n)}),e.qZA(),e._UZ(2,"markdown",19),e.qZA()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.markdown),e.xp6(1),e.Q6J("data",t.markdown)}}function Je(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"div",20)(1,"label"),e._uU(2,"Link"),e.qZA(),e.TgZ(3,"input",21),e.NdJ("ngModelChange",function(n){e.CHM(t);const o=e.oxw();return e.KtG(o.link=n)}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.link)}}function Qe(r,s){if(1&r&&(e.TgZ(0,"div")(1,"a",27),e._uU(2,"Link to Article"),e.qZA()()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.s9C("href",t.link,e.LSH)}}function Ye(r,s){if(1&r&&(e.TgZ(0,"div")(1,"div",28),e._UZ(2,"markdown",29),e.qZA()()),2&r){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("data",t.markdown)}}function De(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"th",22),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._UZ(8,"img",23),e.qZA(),e.TgZ(9,"td"),e.YNc(10,Qe,3,1,"div",12),e.YNc(11,Ye,3,1,"div",12),e.qZA(),e.TgZ(12,"td")(13,"div",24)(14,"button",25),e.NdJ("click",function(){const o=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteNews(o))}),e._uU(15," Delete "),e.qZA(),e.TgZ(16,"button",26),e.NdJ("click",function(){const o=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.setupNewsUpdate(o))}),e._uU(17," Update "),e.qZA()()()()}if(2&r){const t=s.$implicit,i=s.index;e.xp6(2),e.Oqu(i+1),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.date),e.xp6(2),e.s9C("src",t.thumbnailUrl,e.LSH),e.xp6(2),e.Q6J("ngIf",null!==t.link),e.xp6(1),e.Q6J("ngIf",null===t.Link)}}let We=(()=>{class r{constructor(t,i,n){this.newsService=t,this.uploadService=i,this.formBuilder=n,this.imageChangedEvent="",this.addNewsForm=this.formBuilder.group({name:[""],date:[""],thumnail:[""]}),this.mainButtonText="Add News Article",this.markdown='Title\n---\n---\nSomething...\n<img src="https://s3-alpha.figma.com/hub/file/948140848/1f4d8ea7-e9d9-48b7-b70c-819482fb10fb-cover.png">',this.link="",this.isLinkOnlyFormat=!1}fileChangeEvent(t){this.imageChangedEvent=t,this.thumbnail=t.target.files[0]}imageCropped(t){this.previewThumbnailUrl=t.base64,this.dataUrlToFile()}dataUrlToFile(){var t=this;return(0,x.Z)(function*(){const i=t.previewThumbnailUrl,n=t.thumbnail.name,a=yield(yield fetch(i)).blob(),l=new File([a],n,{type:"image/webp"});t.thumbnail=l})()}ngOnInit(){this.newsService.getNewsArticles().subscribe(t=>{this.newsArticles=t.map(i=>({id:i.payload.doc.id,...i.payload.doc.data()})),this.newsArticles.sort((i,n)=>Date.parse(n.date)-Date.parse(i.date))})}setThumbnail(t){this.thumbnail=t[0];const i=new FileReader;i.onload=n=>{this.previewThumbnailUrl=n.target.result},i.readAsDataURL(this.thumbnail)}resetForm(){this.addNewsForm.reset(),this.previewThumbnailUrl="",this.updateNewsId="",this.mainButtonText="Add News Article",this.markdown="",this.imageChangedEvent=null}manageNews(){let t,i;if(this.isLinkOnlyFormat?(t="",i=this.link):(t=this.markdown,i=null),this.mainButtonText.startsWith("Update")){if(null===this.thumbnail){const n={id:this.updateNewsId,name:this.addNewsForm.get("name").value,date:this.addNewsForm.get("date").value,markdown:t,link:i,thumbnail:null,thumbnailUrl:this.previewThumbnailUrl};this.newsService.updateNews(n)}else{const n=this.updateNewsId,o=this.addNewsForm.get("name").value,a=this.addNewsForm.get("date").value;this.uploadService.uploadFile(this.thumbnail,"assets/thumnails/").then(l=>{l.ref.getDownloadURL().then(v=>{this.newsService.updateNews({id:n,name:o,date:a,markdown:t,link:i,thumbnail:null,thumbnailUrl:v})})})}this.resetForm()}else if(null===this.thumbnail){const o={name:this.addNewsForm.get("name").value,date:this.addNewsForm.get("date").value,markdown:t,link:i,thumbnail:null,thumbnailUrl:""};console.log(o),this.newsService.addNews(o),this.resetForm()}else{const n=this.addNewsForm.get("name").value,o=this.addNewsForm.get("date").value;this.uploadService.uploadFile(this.thumbnail,"assets/thumnails/").then(a=>{a.ref.getDownloadURL().then(l=>{const v={name:n,date:o,markdown:t,link:i,thumbnail:null,thumbnailUrl:l};console.log(v),this.newsService.addNews(v)})}),this.resetForm()}}deleteNews(t){this.newsService.deleteNews(t)}setupNewsUpdate(t){this.updateNewsId=t.id,this.addNewsForm.get("name").setValue(t.name),this.addNewsForm.get("date").setValue(t.date),this.markdown=t.markdown,this.link=t.link,this.previewThumbnailUrl=t.thumbnailUrl,this.thumbnail=null,this.mainButtonText="Update News Article",this.isLinkOnlyFormat=null!==this.link}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(K.Y),e.Y36(N),e.Y36(c.QS))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-edit-news"]],decls:46,vars:11,consts:[[1,"container"],["novalidate","",3,"formGroup","ngSubmit"],[1,"mb-3"],["type","submit",1,"btn","btn-danger",3,"disabled"],[1,"row"],[1,"col-4"],["type","text","formControlName","name","required","",1,"form-control"],["type","date","formControlName","date","required","",1,"form-control"],["type","file","formControlName","thumbnail","accept","image/*","required","",1,"form-control",3,"change"],["format","webp","imageQuality","90",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","cropperMinWidth","imageCropped"],[2,"max-width","500px",3,"src"],[1,"btn","btn-danger","btn-block",3,"click"],[4,"ngIf"],["class","col-md",4,"ngIf"],[1,"resultsTable"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],[1,"variable-textarea",2,"height","100%",3,"ngModel","ngModelChange"],[1,"variable-binding",3,"data"],[1,"col-md"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["scope","row"],[2,"max-width","100px",3,"src"],[1,"btn-group"],[1,"btn","btn-warning","actionButton",3,"click"],[1,"btn","btn-danger","actionButton",3,"click"],["target","_blank",1,"btn","btn-danger",3,"href"],[1,"overflow-auto",2,"max-height","300px"],[3,"data"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"br"),e.TgZ(2,"form",1),e.NdJ("ngSubmit",function(){return i.manageNews()}),e.TgZ(3,"div",2)(4,"button",3),e._uU(5),e.qZA()(),e.TgZ(6,"div",4)(7,"div",5)(8,"label"),e._uU(9,"Name"),e.qZA(),e._UZ(10,"input",6),e.qZA(),e.TgZ(11,"div",5)(12,"label"),e._uU(13,"Date"),e.qZA(),e._UZ(14,"input",7),e.qZA(),e.TgZ(15,"div",5)(16,"label"),e._uU(17,"Thumbnail"),e.qZA(),e.TgZ(18,"input",8),e.NdJ("change",function(o){return i.fileChangeEvent(o)}),e.qZA(),e.TgZ(19,"image-cropper",9),e.NdJ("imageCropped",function(o){return i.imageCropped(o)}),e.qZA()()(),e._UZ(20,"img",10),e.qZA(),e._UZ(21,"br"),e.TgZ(22,"button",11),e.NdJ("click",function(){return i.isLinkOnlyFormat=!i.isLinkOnlyFormat}),e._uU(23," Toggle format (Article or External Link) "),e.qZA(),e._UZ(24,"br"),e.YNc(25,ze,3,2,"div",12),e.YNc(26,Je,4,1,"div",13),e._UZ(27,"br"),e.qZA(),e.TgZ(28,"div",14)(29,"table",15)(30,"thead")(31,"tr")(32,"th",16),e._uU(33,"#"),e.qZA(),e.TgZ(34,"th",16),e._uU(35,"Name"),e.qZA(),e.TgZ(36,"th",16),e._uU(37,"Date"),e.qZA(),e.TgZ(38,"th",16),e._uU(39,"Logo"),e.qZA(),e.TgZ(40,"th",16),e._uU(41,"Article or Link"),e.qZA(),e.TgZ(42,"th",16),e._uU(43,"Manage"),e.qZA()()(),e.TgZ(44,"tbody"),e.YNc(45,De,18,6,"tr",17),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("formGroup",i.addNewsForm),e.xp6(2),e.Q6J("disabled",!i.addNewsForm.valid),e.xp6(1),e.hij(" ",i.mainButtonText," "),e.xp6(14),e.Q6J("imageChangedEvent",i.imageChangedEvent)("maintainAspectRatio",!1)("aspectRatio",4/3)("cropperMinWidth",128),e.xp6(1),e.Q6J("src",i.previewThumbnailUrl,e.LSH),e.xp6(5),e.Q6J("ngIf",!i.isLinkOnlyFormat),e.xp6(1),e.Q6J("ngIf",i.isLinkOnlyFormat),e.xp6(19),e.Q6J("ngForOf",i.newsArticles))},dependencies:[A.sg,A.O5,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.sg,c.u,c.On,k.lF,ye],styles:[".variable-binding[_ngcontent-%COMP%], .variable-textarea[_ngcontent-%COMP%]{width:49%}.variable-textarea[_ngcontent-%COMP%]{border-radius:5px;box-shadow:0 1px 2px #00000012;min-height:420px;padding:8px;transition:all .3s ease-out}.variable-textarea[_ngcontent-%COMP%]:hover{box-shadow:0 6px 12px 3px #00000017,0 2px 3px 1px #0000000f}.variable-binding[_ngcontent-%COMP%]{display:block;float:right}"]}),r})();var $e=m(1420);function Ge(r,s){if(1&r&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&r){const t=s.$implicit;e.xp6(1),e.Oqu(t)}}function Ve(r,s){if(1&r&&(e.TgZ(0,"tr")(1,"th",18),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA()()),2&r){const t=s.$implicit,i=s.index;e.xp6(2),e.Oqu(i+1),e.xp6(2),e.Oqu(t.uid),e.xp6(2),e.Oqu(t.uName),e.xp6(2),e.Oqu(t.eName),e.xp6(2),e.Oqu(t.action),e.xp6(2),e.Oqu(t.dateTime)}}function je(r,s){if(1&r&&(e.TgZ(0,"div",17)(1,"h1",14),e._uU(2,"Action History"),e.qZA(),e.TgZ(3,"table",15)(4,"thead")(5,"tr")(6,"th",16),e._uU(7,"#"),e.qZA(),e.TgZ(8,"th",16),e._uU(9,"User ID"),e.qZA(),e.TgZ(10,"th",16),e._uU(11,"User"),e.qZA(),e.TgZ(12,"th",16),e._uU(13,"Entity"),e.qZA(),e.TgZ(14,"th",16),e._uU(15,"Action"),e.qZA(),e.TgZ(16,"th",16),e._uU(17,"Date"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,Ve,13,6,"tr",7),e.qZA()(),e._UZ(20,"br"),e.qZA()),2&r){const t=e.oxw();e.xp6(19),e.Q6J("ngForOf",t.actionHistory)}}function Ke(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"th",18),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"a",19),e._UZ(9,"img",20),e.qZA()(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td")(13,"button",21),e.NdJ("click",function(){const o=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteSponsor(o))}),e._uU(14," Delete "),e.qZA(),e._UZ(15,"br"),e.TgZ(16,"button",21),e.NdJ("click",function(){const o=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.setupSponsorUpdate(o))}),e._uU(17," Update "),e.qZA(),e._UZ(18,"br"),e.TgZ(19,"button",21),e.NdJ("click",function(){const o=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.showActionHistory(o))}),e._uU(20," History "),e.qZA()()()}if(2&r){const t=s.$implicit,i=s.index;e.xp6(2),e.Oqu(i+1),e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.s9C("href",t.link,e.LSH),e.xp6(1),e.s9C("src",t.logoUrl,e.LSH),e.xp6(2),e.Oqu(t.tier)}}let Xe=(()=>{class r{constructor(t,i,n,o){this.sponsorService=t,this.uploadService=i,this.formBuilder=n,this.userActionService=o,this.tiers=["Lead","Platinum","Gold","Silver","Bronze","Friend"],this.imageChangedEvent="",this.addSponsorForm=this.formBuilder.group({name:[""],link:[""],logo:[""],tier:[null]}),this.mainButtonText="Add Sponsor",this.actionHistory=[]}fileChangeEvent(t){this.imageChangedEvent=t,this.logo=t.target.files[0]}imageCropped(t){this.previewLogoUrl=t.base64,this.dataUrlToFile()}dataUrlToFile(){var t=this;return(0,x.Z)(function*(){const i=t.previewLogoUrl,n=t.logo.name,a=yield(yield fetch(i)).blob(),l=new File([a],n,{type:"image/webp"});t.logo=l})()}ngOnInit(){this.sponsorService.getSponsors().subscribe(t=>{this.sponsors=t.map(i=>({id:i.payload.doc.id,...i.payload.doc.data()}))})}setLogo(t){this.logo=t[0];const i=new FileReader;i.onload=n=>{this.previewLogoUrl=n.target.result},i.readAsDataURL(this.logo)}resetForm(){this.addSponsorForm.reset(),this.previewLogoUrl="",this.updateSponsorId="",this.mainButtonText="Add Sponsor",this.imageChangedEvent=null}manageSponsor(){if(this.mainButtonText.startsWith("Update")){if(null===this.logo){const o={id:this.updateSponsorId,name:this.addSponsorForm.get("name").value,link:this.addSponsorForm.get("link").value,logoUrl:this.previewLogoUrl,tier:this.addSponsorForm.get("tier").value,logo:null};this.sponsorService.updateSponsor(o)}else{const o=this.updateSponsorId,a=this.addSponsorForm.get("name").value,l=this.addSponsorForm.get("link").value,v=this.addSponsorForm.get("tier").value;this.uploadService.uploadFile(this.logo,"assets/logos/").then(C=>{C.ref.getDownloadURL().then(Z=>{this.sponsorService.updateSponsor({id:o,name:a,link:l,logoUrl:Z,tier:v,logo:null})})})}return void this.resetForm()}const t=this.addSponsorForm.get("name").value,i=this.addSponsorForm.get("link").value,n=this.addSponsorForm.get("tier").value;this.uploadService.uploadFile(this.logo,"assets/logos/").then(o=>{o.ref.getDownloadURL().then(a=>{this.sponsorService.addSponsor({name:t,link:i,logoUrl:a,tier:n,logo:null})})}),this.resetForm()}deleteSponsor(t){this.sponsorService.deleteSponsor(t)}setupSponsorUpdate(t){this.updateSponsorId=t.id,this.addSponsorForm.get("name").setValue(t.name),this.addSponsorForm.get("link").setValue(t.link),this.addSponsorForm.get("tier").setValue(t.tier),this.previewLogoUrl=t.logoUrl,this.logo=null,this.mainButtonText="Update Sponsor",document.documentElement.scrollTop=0}showActionHistory(t){this.actionHistory=[],this.userActionService.getEntityActions(t.id).then(i=>{i.forEach(n=>{this.actionHistory.push({id:n.id,...n.data()})})}),document.documentElement.scrollTop=0}}return r.\u0275fac=function(t){return new(t||r)(e.Y36($e.c),e.Y36(N),e.Y36(c.QS),e.Y36(_.X))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-edit-sponsors"]],decls:50,vars:12,consts:[[1,"formContainer"],["novalidate","",3,"formGroup","ngSubmit"],[1,"mb-3"],["type","text","formControlName","name","required","",1,"form-control"],["type","text","formControlName","link","required","",1,"form-control"],["formControlName","tier","required","",1,"form-control"],["disabled","",3,"ngValue"],[4,"ngFor","ngForOf"],["type","file","formControlName","logo","accept","image/*",1,"form-control",3,"change"],["format","webp","imageQuality","90",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","cropperMinWidth","imageCropped"],[1,"logoPreview",3,"src"],["type","submit",1,"btn","btn-danger",3,"disabled"],["class","historyTable",4,"ngIf"],[1,"resultsTable"],[1,"tableHeading"],[1,"table"],["scope","col"],[1,"historyTable"],["scope","row"],["target","_blank",3,"href"],[1,"logoResultsPreview",3,"src"],[1,"btn","btn-danger","actionButton",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return i.manageSponsor()}),e.TgZ(2,"div",2)(3,"label"),e._uU(4,"Name"),e.qZA(),e._UZ(5,"input",3),e.qZA(),e.TgZ(6,"div",2)(7,"label"),e._uU(8,"Link"),e.qZA(),e._UZ(9,"input",4),e.qZA(),e.TgZ(10,"div",2)(11,"label"),e._uU(12,"Tier"),e.qZA(),e.TgZ(13,"select",5)(14,"option",6),e._uU(15,"---- Select an option ----"),e.qZA(),e.YNc(16,Ge,2,1,"option",7),e.qZA()(),e.TgZ(17,"div",2)(18,"label"),e._uU(19,"Logo"),e.qZA(),e.TgZ(20,"input",8),e.NdJ("change",function(o){return i.fileChangeEvent(o)}),e.qZA(),e.TgZ(21,"image-cropper",9),e.NdJ("imageCropped",function(o){return i.imageCropped(o)}),e.qZA()(),e.TgZ(22,"label"),e._uU(23,"Logo Preview "),e.qZA(),e._UZ(24,"br")(25,"img",10),e.TgZ(26,"div",2)(27,"button",11),e._uU(28),e.qZA()()()(),e.YNc(29,je,21,1,"div",12),e.TgZ(30,"div",13)(31,"h1",14),e._uU(32,"Sponsors"),e.qZA(),e.TgZ(33,"table",15)(34,"thead")(35,"tr")(36,"th",16),e._uU(37,"#"),e.qZA(),e.TgZ(38,"th",16),e._uU(39,"ID"),e.qZA(),e.TgZ(40,"th",16),e._uU(41,"Name"),e.qZA(),e.TgZ(42,"th",16),e._uU(43,"Logo"),e.qZA(),e.TgZ(44,"th",16),e._uU(45,"Tier"),e.qZA(),e.TgZ(46,"th",16),e._uU(47,"Action"),e.qZA()()(),e.TgZ(48,"tbody"),e.YNc(49,Ke,21,6,"tr",7),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",i.addSponsorForm),e.xp6(13),e.Q6J("ngValue",null),e.xp6(2),e.Q6J("ngForOf",i.tiers),e.xp6(5),e.Q6J("imageChangedEvent",i.imageChangedEvent)("maintainAspectRatio",!1)("aspectRatio",4/3)("cropperMinWidth",128),e.xp6(4),e.s9C("src",i.previewLogoUrl,e.LSH),e.xp6(2),e.Q6J("disabled",!i.addSponsorForm.valid),e.xp6(1),e.hij(" ",i.mainButtonText," "),e.xp6(1),e.Q6J("ngIf",0!==i.actionHistory.length),e.xp6(20),e.Q6J("ngForOf",i.sponsors))},dependencies:[A.sg,A.O5,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.JL,c.Q7,c.sg,c.u,ye],styles:[".resultsTable[_ngcontent-%COMP%]{max-width:100%}.logoResultsPreview[_ngcontent-%COMP%]{min-width:500px;max-width:500px}.actionButton[_ngcontent-%COMP%]{margin-bottom:1em}.logoPreview[_ngcontent-%COMP%]{padding-top:3em;padding-bottom:3em;max-width:500px;min-width:500px}.formContainer[_ngcontent-%COMP%]{padding:3em}.tableHeading[_ngcontent-%COMP%]{padding-left:.5em}"]}),r})();var et=m(6341);let tt=(()=>{class r{constructor(t){this.storage=t}deleteFile(t){return this.storage.storage.refFromURL(t).delete()}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(y.Q1))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function it(r,s){if(1&r&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&r){const t=s.$implicit;e.xp6(1),e.Oqu(t)}}function nt(r,s){if(1&r&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&r){const t=s.$implicit;e.xp6(1),e.Oqu(t)}}function rt(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteImage())}),e._uU(1," X "),e.qZA()}}function ot(r,s){if(1&r&&(e.TgZ(0,"tr")(1,"th",24),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA()()),2&r){const t=s.$implicit,i=s.index;e.xp6(2),e.Oqu(i+1),e.xp6(2),e.Oqu(t.uid),e.xp6(2),e.Oqu(t.uName),e.xp6(2),e.Oqu(t.eName),e.xp6(2),e.Oqu(t.action),e.xp6(2),e.Oqu(t.dateTime)}}function at(r,s){if(1&r&&(e.TgZ(0,"div",22)(1,"h1",23),e._uU(2,"Action History"),e.qZA(),e.TgZ(3,"table",19)(4,"thead")(5,"tr")(6,"th",20),e._uU(7,"#"),e.qZA(),e.TgZ(8,"th",20),e._uU(9,"User ID"),e.qZA(),e.TgZ(10,"th",20),e._uU(11,"User"),e.qZA(),e.TgZ(12,"th",20),e._uU(13,"Entity"),e.qZA(),e.TgZ(14,"th",20),e._uU(15,"Action"),e.qZA(),e.TgZ(16,"th",20),e._uU(17,"Date"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,ot,13,6,"tr",6),e.qZA()(),e._UZ(20,"br"),e.qZA()),2&r){const t=e.oxw();e.xp6(19),e.Q6J("ngForOf",t.actionHistory)}}function st(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"th",24),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._UZ(6,"img",25),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td")(18,"button",26),e.NdJ("click",function(){const o=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteMember(o))}),e._uU(19," Delete "),e.qZA(),e._UZ(20,"br"),e.TgZ(21,"button",26),e.NdJ("click",function(){const o=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.setupMemberUpdate(o))}),e._uU(22," Update "),e.qZA(),e._UZ(23,"br"),e.TgZ(24,"button",26),e.NdJ("click",function(){const o=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.showActionHistory(o))}),e._uU(25," History "),e.qZA()()()}if(2&r){const t=s.$implicit,i=s.index;e.xp6(2),e.Oqu(i+1),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.s9C("src",t.imageName,e.LSH),e.xp6(2),e.Oqu(t.position),e.xp6(2),e.Oqu(t.subteam),e.xp6(2),e.Oqu(t.major),e.xp6(2),e.Oqu(t.description),e.xp6(2),e.Oqu(t.year)}}let lt=(()=>{class r{constructor(t,i,n,o,a){this.memberService=t,this.formBuilder=i,this.uploadService=n,this.userActionService=o,this.deleteService=a,this.imageChangedEvent="",this.addMemberForm=this.formBuilder.group({name:[""],position:[null],subteam:[null],major:[""],description:[""],year:[""],image:[""],releaseTime:[""]}),this.mainButtonText="Add Member",this.positions=["Member","Manager","Leads","Team Captain","Engineering Team Manager","Business Team Manager"],this.subteams=["Mechanical","Electrical","Software","Multi-Team","Business"],this.actionHistory=[],this.deleteFlag=null}fileChangeEvent(t){this.imageChangedEvent=t,this.image=t.target.files[0]}imageCropped(t){this.previewImgUrl=t.base64,this.dataUrlToFile()}dataUrlToFile(){var t=this;return(0,x.Z)(function*(){const i=t.previewImgUrl,n=t.image.name,a=yield(yield fetch(i)).blob(),l=new File([a],n,{type:"image/webp"});t.image=l})()}ngOnInit(){this.memberService.getMembers().subscribe(t=>{this.members=t.map(i=>({id:i.payload.doc.id,...i.payload.doc.data()}))})}setImage(t){this.image=t[0];const i=new FileReader;i.onload=n=>{this.previewImgUrl=n.target.result},i.readAsDataURL(this.image)}resetForm(){this.addMemberForm.reset(),this.previewImgUrl="",this.updateMemberId="",this.mainButtonText="Add Member",this.imageChangedEvent=null}deleteMember(t){this.memberService.deleteMember(t)}setupMemberUpdate(t){this.updateMemberId=t.id,this.addMemberForm.get("name").setValue(t.name),this.addMemberForm.get("position").setValue(t.position),this.addMemberForm.get("subteam").setValue(t.subteam),this.addMemberForm.get("major").setValue(t.major),this.addMemberForm.get("description").setValue(t.description),this.addMemberForm.get("year").setValue(t.year),this.previewImgUrl=t.imageName,this.image=null,this.imageChangedEvent=null,this.mainButtonText="Update Member",document.documentElement.scrollTop=0}deleteImage(){this.deleteFlag=this.previewImgUrl,this.previewImgUrl="",this.image=null,this.imageChangedEvent=null,console.log(this.deleteFlag)}manageMember(){const t=this.addMemberForm.get("releaseTime").value;let i=null;if(""!==t&&(i=new Date(t).toUTCString()),this.mainButtonText.startsWith("Update")){if(this.deleteFlag&&this.deleteService.deleteFile(this.deleteFlag),null===this.image){const Z={id:this.updateMemberId,name:this.addMemberForm.get("name").value,position:this.addMemberForm.get("position").value,subteam:this.addMemberForm.get("subteam").value,major:this.addMemberForm.get("major").value,description:this.addMemberForm.get("description").value,year:this.addMemberForm.get("year").value,imageName:this.previewImgUrl,image:null,releaseTime:i};this.memberService.updateMember(Z)}else{const Z=this.updateMemberId,T=this.addMemberForm.get("name").value,B=this.addMemberForm.get("position").value,O=this.addMemberForm.get("subteam").value,Y=this.addMemberForm.get("major").value,L=this.addMemberForm.get("description").value,J=this.addMemberForm.get("year").value;this.uploadService.uploadFile(this.image,"assets/member_images/").then(ne=>{ne.ref.getDownloadURL().then(G=>{this.memberService.updateMember({id:Z,name:T,position:B,imageName:G,subteam:O,major:Y,description:L,year:J,image:null,releaseTime:i})})})}return void this.resetForm()}const n=this.addMemberForm.get("name").value,o=this.addMemberForm.get("position").value,a=this.addMemberForm.get("subteam").value,l=this.addMemberForm.get("major").value,v=this.addMemberForm.get("description").value,C=this.addMemberForm.get("year").value;this.uploadService.uploadFile(this.image,"assets/member_images/").then(Z=>{Z.ref.getDownloadURL().then(T=>{this.memberService.addMember({name:n,position:o,imageName:T,subteam:a,major:l,description:v,year:C,image:null,releaseTime:i})})}),this.resetForm()}showActionHistory(t){this.actionHistory=[],this.userActionService.getEntityActions(t.id).then(i=>{i.forEach(n=>{this.actionHistory.push({id:n.id,...n.data()})})}),document.documentElement.scrollTop=0}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(et.n),e.Y36(c.QS),e.Y36(N),e.Y36(_.X),e.Y36(tt))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-edit-team"]],decls:74,vars:15,consts:[[1,"formContainer"],["novalidate","",3,"formGroup","ngSubmit"],[1,"mb-3"],["type","text","formControlName","name","required","",1,"form-control"],["formControlName","position","required","",1,"form-control"],["disabled","",3,"ngValue"],[4,"ngFor","ngForOf"],["formControlName","subteam","required","",1,"form-control"],["type","text","formControlName","major","required","",1,"form-control"],["type","text","formControlName","description","required","",1,"form-control"],["type","text","formControlName","year","required","",1,"form-control"],["type","datetime-local","formControlName","releaseTime",1,"form-control"],["type","file","formControlName","image","accept","image/*",1,"form-control",3,"change"],["format","webp","imageQuality","50",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","cropperMinWidth","imageCropped"],[1,"imagePreview",3,"src"],["class","btn btn-warning actionButton","type","button",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-danger",3,"disabled"],["class","historyTable",4,"ngIf"],[1,"resultsTable"],[1,"table"],["scope","col"],["type","button",1,"btn","btn-warning","actionButton",3,"click"],[1,"historyTable"],[1,"tableHeading"],["scope","row"],[1,"imageResultsPreview",3,"src"],[1,"btn","btn-danger","actionButton",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return i.manageMember()}),e.TgZ(2,"div",2)(3,"label"),e._uU(4,"Name"),e.qZA(),e._UZ(5,"input",3),e.qZA(),e.TgZ(6,"div",2)(7,"label"),e._uU(8,"Position"),e.qZA(),e.TgZ(9,"select",4)(10,"option",5),e._uU(11,"---- Select an option ----"),e.qZA(),e.YNc(12,it,2,1,"option",6),e.qZA()(),e.TgZ(13,"div",2)(14,"label"),e._uU(15,"Subteam"),e.qZA(),e.TgZ(16,"select",7)(17,"option",5),e._uU(18,"---- Select an option ----"),e.qZA(),e.YNc(19,nt,2,1,"option",6),e.qZA()(),e.TgZ(20,"div",2)(21,"label"),e._uU(22,"Major"),e.qZA(),e._UZ(23,"input",8),e.qZA(),e.TgZ(24,"div",2)(25,"label"),e._uU(26,"Description"),e.qZA(),e._UZ(27,"input",9),e.qZA(),e.TgZ(28,"div",2)(29,"label"),e._uU(30,"Year"),e.qZA(),e._UZ(31,"input",10),e.qZA(),e.TgZ(32,"div",2)(33,"label"),e._uU(34,"Release Time"),e.qZA(),e._UZ(35,"input",11),e.qZA(),e.TgZ(36,"div",2)(37,"label"),e._uU(38,"Image"),e.qZA(),e.TgZ(39,"input",12),e.NdJ("change",function(o){return i.fileChangeEvent(o)}),e.qZA(),e.TgZ(40,"image-cropper",13),e.NdJ("imageCropped",function(o){return i.imageCropped(o)}),e.qZA()(),e.TgZ(41,"label"),e._uU(42,"Image Preview"),e.qZA(),e._UZ(43,"br")(44,"img",14),e.YNc(45,rt,2,0,"button",15),e.TgZ(46,"div",2)(47,"button",16),e._uU(48),e.qZA()()()(),e.YNc(49,at,21,1,"div",17),e.TgZ(50,"div",18)(51,"table",19)(52,"thead")(53,"tr")(54,"th",20),e._uU(55,"#"),e.qZA(),e.TgZ(56,"th",20),e._uU(57,"Name"),e.qZA(),e.TgZ(58,"th",20),e._uU(59,"Image"),e.qZA(),e.TgZ(60,"th",20),e._uU(61,"Position"),e.qZA(),e.TgZ(62,"th",20),e._uU(63,"Subteam"),e.qZA(),e.TgZ(64,"th",20),e._uU(65,"Major"),e.qZA(),e.TgZ(66,"th",20),e._uU(67,"Description"),e.qZA(),e.TgZ(68,"th",20),e._uU(69,"Year"),e.qZA(),e.TgZ(70,"th",20),e._uU(71,"Action"),e.qZA()()(),e.TgZ(72,"tbody"),e.YNc(73,st,26,8,"tr",6),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",i.addMemberForm),e.xp6(9),e.Q6J("ngValue",null),e.xp6(2),e.Q6J("ngForOf",i.positions),e.xp6(5),e.Q6J("ngValue",null),e.xp6(2),e.Q6J("ngForOf",i.subteams),e.xp6(21),e.Q6J("imageChangedEvent",i.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",4/3)("cropperMinWidth",128),e.xp6(4),e.s9C("src",i.previewImgUrl,e.LSH),e.xp6(1),e.Q6J("ngIf",i.previewImgUrl),e.xp6(2),e.Q6J("disabled",!i.addMemberForm.valid),e.xp6(1),e.hij(" ",i.mainButtonText," "),e.xp6(1),e.Q6J("ngIf",0!==i.actionHistory.length),e.xp6(24),e.Q6J("ngForOf",i.members))},dependencies:[A.sg,A.O5,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.JL,c.Q7,c.sg,c.u,ye],styles:[".resultsTable[_ngcontent-%COMP%]{max-width:100%}.imageResultsPreview[_ngcontent-%COMP%]{min-width:250px;max-width:250px}.actionButton[_ngcontent-%COMP%]{margin-bottom:1em}.imagePreview[_ngcontent-%COMP%]{padding-top:3em;padding-bottom:3em;max-width:500px;min-width:500px}.formContainer[_ngcontent-%COMP%]{padding:3em}"]}),r})();function ct(r,s){1&r&&(e.TgZ(0,"div")(1,"small",8),e._uU(2," Please enter a valid email "),e.qZA()())}let ut=(()=>{class r{constructor(t,i){this.formBuilder=t,this.authService=i,this.loginForm=this.formBuilder.group({email:["",c.kI.pattern(".+@.+..+")],password:[""]})}Login(){this.authService.Login(this.loginForm.get("email").value,this.loginForm.get("password").value)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(c.QS),e.Y36(E))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"loginFormDiv"],[1,"loginForm",3,"formGroup","ngSubmit"],["type","text","placeholder","Email","formControlName","email","required","",1,"form-control"],[4,"ngIf"],["type","password","placeholder","Password","formControlName","password","required","",1,"form-control"],["type","submit",1,"btn","btn-danger",3,"disabled"],["routerLink","/portal/register",1,"error"],["routerLink","/portal/reset-password",1,"error"],[1,"error"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return i.Login()}),e._UZ(2,"input",2),e.YNc(3,ct,3,0,"div",3),e._UZ(4,"input",4)(5,"br"),e.TgZ(6,"button",5),e._uU(7,"Login"),e.qZA(),e._UZ(8,"br"),e.TgZ(9,"a",6),e._uU(10,"No account? "),e.TgZ(11,"strong"),e._uU(12,"Create one here"),e.qZA()(),e._UZ(13,"br"),e.TgZ(14,"a",7),e._uU(15,"Forgot Password"),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",i.loginForm),e.xp6(2),e.Q6J("ngIf",i.loginForm.get("email").invalid&&i.loginForm.get("email").errors&&(i.loginForm.get("email").dirty||i.loginForm.get("email").touched)),e.xp6(3),e.Q6J("disabled",!i.loginForm.valid))},dependencies:[A.O5,g.yS,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.sg,c.u],styles:[".loginFormDiv[_ngcontent-%COMP%]{align-items:center;justify-content:center;display:flex;height:80vh;text-align:center}.loginForm[_ngcontent-%COMP%], .resetPasswordForm[_ngcontent-%COMP%]{width:35%}.btn[_ngcontent-%COMP%]{display:block;width:100%}.error[_ngcontent-%COMP%]{color:red}"]}),r})();function dt(r,s){1&r&&(e.TgZ(0,"div")(1,"small",9),e._uU(2," Please enter a valid email "),e.qZA()())}function mt(r,s){1&r&&(e.TgZ(0,"div")(1,"small",9),e._uU(2," Password must have at least 8 characters, uppercase letters, digits, and special characters "),e.qZA()())}function gt(r,s){1&r&&(e.TgZ(0,"div")(1,"small",9),e._uU(2,"The passwords do not match"),e.qZA()())}function pt(r,s){1&r&&(e.TgZ(0,"div")(1,"small",9),e._uU(2,"Sign up successfull. Please wait to be verified"),e.qZA()())}function ht(r,s){1&r&&(e.TgZ(0,"div")(1,"small",9),e._uU(2,"Please use an @ucalgary.ca email address"),e.qZA()())}let ft=(()=>{class r{constructor(t,i){this.formBuilder=t,this.authService=i,this.ucalgaryEmailUsed=!0,this.signUpForm=this.formBuilder.group({displayName:[""],email:["",c.kI.pattern(".+@.+.c.+")],password:["",c.kI.pattern("(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@$!#%*?&])[A-Za-zd$@$!%*?&].{8,}")],passwordConfirm:[""]})}SignUp(){this.signUpForm.get("password").value===this.signUpForm.get("passwordConfirm").value?this.signUpForm.get("email").value.includes("ucalgary.ca")?(this.passwordsDoNotMatch=!1,this.authService.SignUp(this.signUpForm.get("displayName").value,this.signUpForm.get("email").value,this.signUpForm.get("password").value)):this.ucalgaryEmailUsed=!1:this.passwordsDoNotMatch=!0}SignUpSuccess(){const t=JSON.parse(window.sessionStorage.getItem("User"));return null!==t&&!t.verified}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(c.QS),e.Y36(E))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-register"]],decls:19,vars:7,consts:[[1,"signUpFormDiv"],[1,"signUpForm",3,"formGroup","ngSubmit"],["type","text","placeholder","Display Name","formControlName","displayName","required","",1,"form-control"],["type","text","placeholder","Email","formControlName","email","required","",1,"form-control"],[4,"ngIf"],["type","password","placeholder","Password","formControlName","password","required","",1,"form-control"],["type","password","placeholder","Confirm Password","formControlName","passwordConfirm","required","",1,"form-control"],["type","submit",1,"btn","btn-danger",3,"disabled"],["routerLink","/portal/login",1,"error"],[1,"error"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return i.SignUp()}),e._UZ(2,"input",2)(3,"input",3),e.YNc(4,dt,3,0,"div",4),e._UZ(5,"input",5),e.YNc(6,mt,3,0,"div",4),e._UZ(7,"input",6),e.YNc(8,gt,3,0,"div",4),e._UZ(9,"br"),e.TgZ(10,"button",7),e._uU(11,"Sign up"),e.qZA(),e._UZ(12,"br"),e.YNc(13,pt,3,0,"div",4),e.YNc(14,ht,3,0,"div",4),e.TgZ(15,"a",8),e._uU(16,"Have an account? "),e.TgZ(17,"strong"),e._uU(18,"Login here"),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",i.signUpForm),e.xp6(3),e.Q6J("ngIf",i.signUpForm.get("email").invalid&&i.signUpForm.get("email").errors&&(i.signUpForm.get("email").dirty||i.signUpForm.get("email").touched)),e.xp6(2),e.Q6J("ngIf",i.signUpForm.get("password").invalid&&i.signUpForm.get("password").errors&&(i.signUpForm.get("password").dirty||i.signUpForm.get("password").touched)),e.xp6(2),e.Q6J("ngIf",i.passwordsDoNotMatch),e.xp6(2),e.Q6J("disabled",!i.signUpForm.valid),e.xp6(3),e.Q6J("ngIf",i.SignUpSuccess()),e.xp6(1),e.Q6J("ngIf",!i.ucalgaryEmailUsed))},dependencies:[A.O5,g.yS,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.sg,c.u],styles:[".signUpFormDiv[_ngcontent-%COMP%]{align-items:center;justify-content:center;display:flex;height:80vh;text-align:center}.signUpForm[_ngcontent-%COMP%]{width:35%}.btn[_ngcontent-%COMP%]{display:block;width:100%}.error[_ngcontent-%COMP%]{color:red}"]}),r})(),he=(()=>{class r{constructor(t,i){this.authService=t,this.router=i}canActivate(t,i){return"User"in window.sessionStorage?JSON.parse(window.sessionStorage.getItem("User")).verified:(this.router.navigateByUrl("portal/login"),!1)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(E),e.LFG(g.F0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function _t(r,s){if(1&r&&(e.TgZ(0,"tr")(1,"th",5),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA()()),2&r){const t=s.$implicit,i=s.index;e.xp6(2),e.Oqu(i+1),e.xp6(2),e.Oqu(t.eName),e.xp6(2),e.Oqu(t.eid),e.xp6(2),e.Oqu(t.action),e.xp6(2),e.Oqu(t.dateTime)}}function vt(r,s){if(1&r&&(e.TgZ(0,"div")(1,"h1",1),e._uU(2,"Action History"),e.qZA(),e.TgZ(3,"table",2)(4,"thead")(5,"tr")(6,"th",3),e._uU(7,"#"),e.qZA(),e.TgZ(8,"th",3),e._uU(9,"Entity"),e.qZA(),e.TgZ(10,"th",3),e._uU(11,"Entity ID"),e.qZA(),e.TgZ(12,"th",3),e._uU(13,"Action"),e.qZA(),e.TgZ(14,"th",3),e._uU(15,"Date"),e.qZA()()(),e.TgZ(16,"tbody"),e.YNc(17,_t,11,5,"tr",4),e.qZA()(),e._UZ(18,"br"),e.qZA()),2&r){const t=e.oxw();e.xp6(17),e.Q6J("ngForOf",t.userActionHistory)}}function bt(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"div")(1,"input",7),e.NdJ("change",function(n){const a=e.CHM(t).$implicit,l=e.oxw().$implicit,v=e.oxw();return e.KtG(v.updateUserPrivileges(l.id,a,n))}),e.qZA(),e._uU(2),e.qZA()}if(2&r){const t=s.$implicit,i=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.s9C("value",t),e.Q6J("checked",n.userHasPrivilege(i.id,t)),e.xp6(1),e.hij(" ",t," ")}}function xt(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"td")(1,"button",6),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,o=e.oxw();return e.KtG(o.verifyUser(n.id))}),e._uU(2,"Verify"),e.qZA()()}}function yt(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"th",5),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e.YNc(10,bt,3,3,"div",4),e.qZA(),e.YNc(11,xt,3,0,"td",0),e.TgZ(12,"td")(13,"button",6),e.NdJ("click",function(){const o=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.getUserActions(o.id))}),e._uU(14,"History"),e.qZA()(),e.TgZ(15,"td")(16,"button",6),e.NdJ("click",function(){const o=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteUser(o.id))}),e._uU(17,"Delete"),e.qZA()()()}if(2&r){const t=s.$implicit,i=s.index,n=e.oxw();e.xp6(2),e.Oqu(i+1),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.Oqu(t.displayName),e.xp6(2),e.Oqu(t.verified),e.xp6(2),e.Q6J("ngForOf",n.privileges),e.xp6(1),e.Q6J("ngIf",!t.verified)}}let At=(()=>{class r{constructor(t,i,n){this.userActionService=t,this.userService=i,this.authService=n,this.privileges=Object.keys(U).map(o=>U[o]),this.userActionHistory=[],this.userPrivileges=new Map}ngOnInit(){this.authService.isAdmin()&&this.userService.getUsers().subscribe(t=>{this.users=t.map(i=>{const n={id:i.payload.doc.id,...i.payload.doc.data()};return this.userPrivileges.set(n.id,n.userPrivileges),n})})}getUserActions(t){this.userActionHistory=[],this.userActionService.getUserActions(t).then(i=>{i.forEach(n=>{this.userActionHistory.push({id:n.id,...n.data()});const o=this.userActionHistory.pop();this.userService.getUser(o.uid).subscribe(a=>{const l=a.data();o.uid=l.displayName,this.userActionHistory.push(o)})})})}getPrivilegeString(t){if(1===t.length)return t[0];let i="";return t.forEach(n=>{i+=n+", "}),i}verifyUser(t){this.userService.verifyUser(t)}updateUserPrivileges(t,i,n){n.target.checked?this.userService.addUserPrivilege(t,i):this.userService.removeUserPrivilege(t,i)}deleteUser(t){this.userService.deleteUser(t)}userHasPrivilege(t,i){return this.userPrivileges.get(t).includes(i)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(_.X),e.Y36(b),e.Y36(E))},r.\u0275cmp=e.Xpm({type:r,selectors:[["admin-panel"]],decls:20,vars:2,consts:[[4,"ngIf"],[1,"tableHeading"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"btn","btn-danger",3,"click"],["name","i","type","checkbox",3,"value","checked","change"]],template:function(t,i){1&t&&(e.YNc(0,vt,19,1,"div",0),e.TgZ(1,"h1",1),e._uU(2,"Users"),e.qZA(),e.TgZ(3,"table",2)(4,"thead")(5,"tr")(6,"th",3),e._uU(7,"#"),e.qZA(),e.TgZ(8,"th",3),e._uU(9,"Email"),e.qZA(),e.TgZ(10,"th",3),e._uU(11,"Display Name"),e.qZA(),e.TgZ(12,"th",3),e._uU(13,"Verified"),e.qZA(),e.TgZ(14,"th",3),e._uU(15,"Privileges"),e.qZA(),e.TgZ(16,"th",3),e._uU(17,"Action"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,yt,18,6,"tr",4),e.qZA()()),2&t&&(e.Q6J("ngIf",0!==i.userActionHistory.length),e.xp6(19),e.Q6J("ngForOf",i.users))},dependencies:[A.sg,A.O5],styles:[".tableHeading[_ngcontent-%COMP%]{padding-left:.5em;padding-top:.5em}"]}),r})();function wt(r,s){1&r&&(e.TgZ(0,"div",4)(1,"button",10),e._uU(2,"Update"),e.qZA()())}function Ct(r,s){if(1&r&&(e.TgZ(0,"tr")(1,"th",14),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA()()),2&r){const t=s.$implicit,i=s.index;e.xp6(2),e.Oqu(i+1),e.xp6(2),e.Oqu(t.eName),e.xp6(2),e.Oqu(t.eid),e.xp6(2),e.Oqu(t.action),e.xp6(2),e.Oqu(t.dateTime)}}function Zt(r,s){if(1&r&&(e.TgZ(0,"div")(1,"h1",1),e._uU(2,"Your Action History"),e.qZA(),e.TgZ(3,"table",11)(4,"thead")(5,"tr")(6,"th",12),e._uU(7,"#"),e.qZA(),e.TgZ(8,"th",12),e._uU(9,"Entity"),e.qZA(),e.TgZ(10,"th",12),e._uU(11,"Entity ID"),e.qZA(),e.TgZ(12,"th",12),e._uU(13,"Action"),e.qZA(),e.TgZ(14,"th",12),e._uU(15,"Date"),e.qZA()()(),e.TgZ(16,"tbody"),e.YNc(17,Ct,11,5,"tr",13),e.qZA()()()),2&r){const t=e.oxw();e.xp6(17),e.Q6J("ngForOf",t.userActions)}}function Tt(r,s){if(1&r&&(e.TgZ(0,"tr")(1,"th",14),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA()()),2&r){const t=s.$implicit,i=s.index;e.xp6(2),e.Oqu(i+1),e.xp6(2),e.Oqu(t.eName),e.xp6(2),e.Oqu(t.eid),e.xp6(2),e.Oqu(t.action),e.xp6(2),e.Oqu(t.dateTime)}}function Ut(r,s){if(1&r&&(e.TgZ(0,"div")(1,"h1",1),e._uU(2,"Your Action History"),e.qZA(),e.TgZ(3,"table",11)(4,"thead")(5,"tr")(6,"th",12),e._uU(7,"#"),e.qZA(),e.TgZ(8,"th",12),e._uU(9,"Entity"),e.qZA(),e.TgZ(10,"th",12),e._uU(11,"Entity ID"),e.qZA(),e.TgZ(12,"th",12),e._uU(13,"Action"),e.qZA(),e.TgZ(14,"th",12),e._uU(15,"Date"),e.qZA()()(),e.TgZ(16,"tbody"),e.YNc(17,Tt,11,5,"tr",13),e.qZA()()()),2&r){const t=e.oxw();e.xp6(17),e.Q6J("ngForOf",t.userActions)}}function Mt(r,s){1&r&&(e.TgZ(0,"div"),e._UZ(1,"admin-panel"),e.qZA())}let St=(()=>{class r{constructor(t,i,n,o){this.authService=t,this.userService=i,this.userActionService=n,this.formBuilder=o,this.userForm=this.formBuilder.group({displayName:"",email:"",password:""}),this.userActions=[],this.user=JSON.parse(window.sessionStorage.getItem("User"))}ngOnInit(){this.userActionService.getUserActions(this.user.id).then(t=>{t.forEach(i=>{this.userActions.push({id:i.id,...i.data()})})}),this.userForm.get("displayName").setValue(this.user.displayName),this.userForm.get("email").setValue(this.user.email)}getAuth(){return this.authService}getUser(){return JSON.parse(window.sessionStorage.getItem("User"))}manageUser(){const t=JSON.parse(window.sessionStorage.getItem("User"));this.userForm.get("displayName").value!==t.displayName&&(t.displayName=this.userForm.get("displayName").value,this.userService.updateUser(t)),this.userForm.get("email").value!==t.email&&this.authService.ChangeEmail(this.userForm.get("email").value),""!==this.userForm.get("password").value&&this.authService.ChangePassword(this.userForm.get("password").value)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(E),e.Y36(b),e.Y36(_.X),e.Y36(c.QS))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-user-profile"]],decls:22,vars:7,consts:[[1,"profileContainer"],[1,"tableHeading"],[1,"userForm"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["type","text","formControlName","displayName","required","",1,"form-control",3,"placeholder"],["type","text","formControlName","email","required","",1,"form-control",3,"placeholder"],["type","password","formControlName","password","required","",1,"form-control"],["class","mb-3",4,"ngIf"],[4,"ngIf"],["type","submit",1,"btn","btn-danger"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div")(2,"h1",1),e._uU(3,"Profile"),e.qZA(),e.TgZ(4,"div",2)(5,"form",3),e.NdJ("ngSubmit",function(){return i.manageUser()}),e.TgZ(6,"div",4)(7,"label"),e._uU(8,"Display Name"),e.qZA(),e._UZ(9,"input",5),e.qZA(),e.TgZ(10,"div",4)(11,"label"),e._uU(12,"Email"),e.qZA(),e._UZ(13,"input",6),e.qZA(),e.TgZ(14,"div",4)(15,"label"),e._uU(16,"Password"),e.qZA(),e._UZ(17,"input",7),e.qZA(),e.YNc(18,wt,3,0,"div",8),e.qZA()(),e.YNc(19,Zt,18,1,"div",9),e.qZA(),e.YNc(20,Ut,18,1,"div",9),e.YNc(21,Mt,2,0,"div",9),e.qZA()),2&t&&(e.xp6(5),e.Q6J("formGroup",i.userForm),e.xp6(4),e.s9C("placeholder",i.getUser().displayName),e.xp6(4),e.s9C("placeholder",i.getUser().email),e.xp6(5),e.Q6J("ngIf",i.userForm.get("displayName").dirty||i.userForm.get("email").dirty||i.userForm.get("password").dirty),e.xp6(1),e.Q6J("ngIf",i.getAuth().isAdmin()),e.xp6(1),e.Q6J("ngIf",!i.getAuth().isAdmin()),e.xp6(1),e.Q6J("ngIf",i.getAuth().isAdmin()))},dependencies:[A.sg,A.O5,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.sg,c.u,At],styles:[".profileContainer[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%}.tableHeading[_ngcontent-%COMP%]{padding-left:.5em;padding-top:.5em}.userForm[_ngcontent-%COMP%]{max-width:80%;padding-left:1em}"]}),r})();function Ft(r,s){1&r&&(e.TgZ(0,"div")(1,"small",6),e._uU(2," Please enter a valid email "),e.qZA()())}const It=[{path:"",component:h,children:[{path:"manage-news",component:We,canActivate:[he]},{path:"manage-sponsors",component:Xe,canActivate:[he]},{path:"manage-team",component:lt,canActivate:[he]},{path:"manage-inventory",component:ae,canActivate:[he]},{path:"login",component:ut},{path:"register",component:ft},{path:"reset-password",component:(()=>{class r{constructor(t,i){this.authService=t,this.formBuilder=i,this.resetForm=this.formBuilder.group({email:["",c.kI.pattern(".+@.+..+")]})}resetPasswordSubmit(){this.authService.ResetPassword(this.resetForm.get("email").value)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(E),e.Y36(c.QS))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-reset-password"]],decls:10,vars:3,consts:[[1,"resetFormDiv"],[1,"resetPasswordForm",3,"formGroup","ngSubmit"],["type","text","placeholder","Email","formControlName","email","required","",1,"form-control"],[4,"ngIf"],["type","submit",1,"btn","btn-danger",3,"disabled"],["routerLink","/portal/login",1,"backToLogin"],[1,"error"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return i.resetPasswordSubmit()}),e._UZ(2,"input",2),e.YNc(3,Ft,3,0,"div",3),e._UZ(4,"br"),e.TgZ(5,"button",4),e._uU(6,"Reset Password"),e.qZA(),e._UZ(7,"br"),e.TgZ(8,"a",5),e._uU(9,"Back to Login"),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",i.resetForm),e.xp6(2),e.Q6J("ngIf",i.resetForm.get("email").invalid&&i.resetForm.get("email").errors&&(i.resetForm.get("email").dirty||i.resetForm.get("email").touched)),e.xp6(2),e.Q6J("disabled",!i.resetForm.valid))},dependencies:[A.O5,g.yS,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.sg,c.u],styles:[".resetFormDiv[_ngcontent-%COMP%]{align-items:center;justify-content:center;display:flex;height:80vh;text-align:center}.resetPasswordForm[_ngcontent-%COMP%]{width:35%}.btn[_ngcontent-%COMP%]{display:block;width:100%}.error[_ngcontent-%COMP%], .backToLogin[_ngcontent-%COMP%]{color:red}"]}),r})()},{path:"user",component:St,canActivate:[he]},{path:"**",redirectTo:"user",pathMatch:"full"}]}];let Et=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[g.Bz.forChild(It),g.Bz]}),r})();m(5083),m(6028),m(7597),m(9709);let qt=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r,bootstrap:[h]}),r.\u0275inj=e.cJS({imports:[A.ez,Et,c.UX,c.u5,z.JF,k.JP.forRoot(),Le]}),r})()},6028:()=>{!function(R){R.languages.typescript=R.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),R.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete R.languages.typescript.parameter,delete R.languages.typescript["literal-property"];var D=R.languages.extend("typescript",{});delete D["class-name"],R.languages.typescript["class-name"].inside=D,R.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:D}}}}),R.languages.ts=R.languages.typescript}(Prism)},9709:()=>{!function(){if(!(typeof Prism>"u"||typeof document>"u")&&document.querySelector){var w,R="line-numbers",D="linkable-line-numbers",m=/\n(?!$)/g,e=!0;Prism.plugins.lineHighlight={highlightLines:function(b,E,M){var F=(E="string"==typeof E?E:b.getAttribute("data-line")||"").replace(/\s+/g,"").split(",").filter(Boolean),q=+b.getAttribute("data-line-offset")||0,u=(function(){if(typeof w>"u"){var b=document.createElement("div");b.style.fontSize="13px",b.style.lineHeight="1.5",b.style.padding="0",b.style.border="0",b.innerHTML="&nbsp;<br />&nbsp;",document.body.appendChild(b),w=38===b.offsetHeight,document.body.removeChild(b)}return w}()?parseInt:parseFloat)(getComputedStyle(b).lineHeight),p=Prism.util.isActive(b,R),h=b.querySelector("code"),f=p?b:h||b,_=[],S=h.textContent.match(m),y=S?S.length+1:1,N=h&&f!=h?function g(w,b){var E=getComputedStyle(w),M=getComputedStyle(b);function F(q){return+q.substr(0,q.length-2)}return b.offsetTop+F(M.borderTopWidth)+F(M.paddingTop)-F(E.paddingTop)}(b,h):0;F.forEach(function(ee){var re=ee.split("-"),V=+re[0],j=+re[1]||V;if(!((j=Math.min(y+q,j))<V)){var W=b.querySelector('.line-highlight[data-range="'+ee+'"]')||document.createElement("div");if(_.push(function(){W.setAttribute("aria-hidden","true"),W.setAttribute("data-range",ee),W.className=(M||"")+" line-highlight"}),p&&Prism.plugins.lineNumbers){var P=Prism.plugins.lineNumbers.getLine(b,V),$=Prism.plugins.lineNumbers.getLine(b,j);if(P){var te=P.offsetTop+N+"px";_.push(function(){W.style.top=te})}if($){var ae=$.offsetTop-P.offsetTop+$.offsetHeight+"px";_.push(function(){W.style.height=ae})}}else _.push(function(){W.setAttribute("data-start",String(V)),j>V&&W.setAttribute("data-end",String(j)),W.style.top=(V-q-1)*u+N+"px",W.textContent=new Array(j-V+2).join(" \n")});_.push(function(){W.style.width=b.scrollWidth+"px"}),_.push(function(){f.appendChild(W)})}});var H=b.id;if(p&&Prism.util.isActive(b,D)&&H){k(b,D)||_.push(function(){b.classList.add(D)});var X=parseInt(b.getAttribute("data-start")||"1");A(".line-numbers-rows > span",b).forEach(function(ee,re){var V=re+X;ee.onclick=function(){e=!1,location.hash=H+"."+V,setTimeout(function(){e=!0},1)}})}return function(){_.forEach(z)}}};var I=0;Prism.hooks.add("before-sanity-check",function(w){var b=w.element.parentElement;if(x(b)){var E=0;A(".line-highlight",b).forEach(function(M){E+=M.textContent.length,M.parentNode.removeChild(M)}),E&&/^(?: \n)+$/.test(w.code.slice(-E))&&(w.code=w.code.slice(0,-E))}}),Prism.hooks.add("complete",function w(b){var E=b.element.parentElement;if(x(E)){clearTimeout(I);var M=Prism.plugins.lineNumbers,F=b.plugins&&b.plugins.lineNumbers;k(E,R)&&M&&!F?Prism.hooks.add("line-numbers",w):(Prism.plugins.lineHighlight.highlightLines(E)(),I=setTimeout(U,1))}}),window.addEventListener("hashchange",U),window.addEventListener("resize",function(){A("pre").filter(x).map(function(b){return Prism.plugins.lineHighlight.highlightLines(b)}).forEach(z)})}function A(w,b){return Array.prototype.slice.call((b||document).querySelectorAll(w))}function k(w,b){return w.classList.contains(b)}function z(w){w()}function x(w){return!(!w||!/pre/i.test(w.nodeName)||!(w.hasAttribute("data-line")||w.id&&Prism.util.isActive(w,D)))}function U(){var w=location.hash.slice(1);A(".temporary.line-highlight").forEach(function(q){q.parentNode.removeChild(q)});var b=(w.match(/\.([\d,-]+)$/)||[,""])[1];if(b&&!document.getElementById(w)){var E=w.slice(0,w.lastIndexOf(".")),M=document.getElementById(E);M&&(M.hasAttribute("data-line")||M.setAttribute("data-line",""),Prism.plugins.lineHighlight.highlightLines(M,b,"temporary ")(),e&&document.querySelector(".temporary.line-highlight").scrollIntoView())}}}()},7597:()=>{!function(){if(!(typeof Prism>"u"||typeof document>"u")){var R="line-numbers",D=/\n(?!$)/g,m=Prism.plugins.lineNumbers={getLine:function(c,g){if("PRE"===c.tagName&&c.classList.contains(R)){var x=c.querySelector(".line-numbers-rows");if(x){var e=parseInt(c.getAttribute("data-start"),10)||1,U=e+(x.children.length-1);return g<e&&(g=e),g>U&&(g=U),x.children[g-e]}}},resize:function(c){A([c])},assumeViewportIndependence:!0},z=void 0;window.addEventListener("resize",function(){m.assumeViewportIndependence&&z===window.innerWidth||(z=window.innerWidth,A(Array.prototype.slice.call(document.querySelectorAll("pre."+R))))}),Prism.hooks.add("complete",function(c){if(c.code){var g=c.element,x=g.parentNode;if(x&&/pre/i.test(x.nodeName)&&!g.querySelector(".line-numbers-rows")&&Prism.util.isActive(g,R)){g.classList.remove(R),x.classList.add(R);var I,e=c.code.match(D),w=new Array((e?e.length+1:1)+1).join("<span></span>");(I=document.createElement("span")).setAttribute("aria-hidden","true"),I.className="line-numbers-rows",I.innerHTML=w,x.hasAttribute("data-start")&&(x.style.counterReset="linenumber "+(parseInt(x.getAttribute("data-start"),10)-1)),c.element.appendChild(I),A([x]),Prism.hooks.run("line-numbers",c)}}}),Prism.hooks.add("line-numbers",function(c){c.plugins=c.plugins||{},c.plugins.lineNumbers=!0})}function A(c){if(0!=(c=c.filter(function(x){var e=function k(c){return c?window.getComputedStyle?getComputedStyle(c):c.currentStyle||null:null}(x),U=e["white-space"];return"pre-wrap"===U||"pre-line"===U})).length){var g=c.map(function(x){var e=x.querySelector("code"),U=x.querySelector(".line-numbers-rows");if(e&&U){var I=x.querySelector(".line-numbers-sizer"),w=e.textContent.split(D);I||((I=document.createElement("span")).className="line-numbers-sizer",e.appendChild(I)),I.innerHTML="0",I.style.display="block";var b=I.getBoundingClientRect().height;return I.innerHTML="",{element:x,lines:w,lineHeights:[],oneLinerHeight:b,sizer:I}}}).filter(Boolean);g.forEach(function(x){var e=x.sizer,U=x.lines,I=x.lineHeights,w=x.oneLinerHeight;I[U.length-1]=void 0,U.forEach(function(b,E){if(b&&b.length>1){var M=e.appendChild(document.createElement("span"));M.style.display="block",M.textContent=b}else I[E]=w})}),g.forEach(function(x){for(var e=x.sizer,U=x.lineHeights,I=0,w=0;w<U.length;w++)void 0===U[w]&&(U[w]=e.children[I++].getBoundingClientRect().height)}),g.forEach(function(x){var e=x.sizer,U=x.element.querySelector(".line-numbers-rows");e.style.display="none",e.innerHTML="",x.lineHeights.forEach(function(I,w){U.children[w].style.height=I+"px"})})}}}()},5083:R=>{var m=function(A){var k=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,z=0,c={},g={manual:A.Prism&&A.Prism.manual,disableWorkerMessageHandler:A.Prism&&A.Prism.disableWorkerMessageHandler,util:{encode:function d(u){return u instanceof x?new x(u.type,d(u.content),u.alias):Array.isArray(u)?u.map(d):u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(d){return Object.prototype.toString.call(d).slice(8,-1)},objId:function(d){return d.__id||Object.defineProperty(d,"__id",{value:++z}),d.__id},clone:function d(u,p){var h,f;switch(p=p||{},g.util.type(u)){case"Object":if(f=g.util.objId(u),p[f])return p[f];for(var _ in p[f]=h={},u)u.hasOwnProperty(_)&&(h[_]=d(u[_],p));return h;case"Array":return f=g.util.objId(u),p[f]?p[f]:(p[f]=h=[],u.forEach(function(S,y){h[y]=d(S,p)}),h);default:return u}},getLanguage:function(d){for(;d;){var u=k.exec(d.className);if(u)return u[1].toLowerCase();d=d.parentElement}return"none"},setLanguage:function(d,u){d.className=d.className.replace(RegExp(k,"gi"),""),d.classList.add("language-"+u)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(h){var d=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(h.stack)||[])[1];if(d){var u=document.getElementsByTagName("script");for(var p in u)if(u[p].src==d)return u[p]}return null}},isActive:function(d,u,p){for(var h="no-"+u;d;){var f=d.classList;if(f.contains(u))return!0;if(f.contains(h))return!1;d=d.parentElement}return!!p}},languages:{plain:c,plaintext:c,text:c,txt:c,extend:function(d,u){var p=g.util.clone(g.languages[d]);for(var h in u)p[h]=u[h];return p},insertBefore:function(d,u,p,h){var f=(h=h||g.languages)[d],_={};for(var S in f)if(f.hasOwnProperty(S)){if(S==u)for(var y in p)p.hasOwnProperty(y)&&(_[y]=p[y]);p.hasOwnProperty(S)||(_[S]=f[S])}var N=h[d];return h[d]=_,g.languages.DFS(g.languages,function(H,X){X===N&&H!=d&&(this[H]=_)}),_},DFS:function d(u,p,h,f){f=f||{};var _=g.util.objId;for(var S in u)if(u.hasOwnProperty(S)){p.call(u,S,u[S],h||S);var y=u[S],N=g.util.type(y);"Object"!==N||f[_(y)]?"Array"===N&&!f[_(y)]&&(f[_(y)]=!0,d(y,p,S,f)):(f[_(y)]=!0,d(y,p,null,f))}}},plugins:{},highlightAll:function(d,u){g.highlightAllUnder(document,d,u)},highlightAllUnder:function(d,u,p){var h={callback:p,container:d,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};g.hooks.run("before-highlightall",h),h.elements=Array.prototype.slice.apply(h.container.querySelectorAll(h.selector)),g.hooks.run("before-all-elements-highlight",h);for(var _,f=0;_=h.elements[f++];)g.highlightElement(_,!0===u,h.callback)},highlightElement:function(d,u,p){var h=g.util.getLanguage(d),f=g.languages[h];g.util.setLanguage(d,h);var _=d.parentElement;_&&"pre"===_.nodeName.toLowerCase()&&g.util.setLanguage(_,h);var y={element:d,language:h,grammar:f,code:d.textContent};function N(X){y.highlightedCode=X,g.hooks.run("before-insert",y),y.element.innerHTML=y.highlightedCode,g.hooks.run("after-highlight",y),g.hooks.run("complete",y),p&&p.call(y.element)}if(g.hooks.run("before-sanity-check",y),(_=y.element.parentElement)&&"pre"===_.nodeName.toLowerCase()&&!_.hasAttribute("tabindex")&&_.setAttribute("tabindex","0"),!y.code)return g.hooks.run("complete",y),void(p&&p.call(y.element));if(g.hooks.run("before-highlight",y),y.grammar)if(u&&A.Worker){var H=new Worker(g.filename);H.onmessage=function(X){N(X.data)},H.postMessage(JSON.stringify({language:y.language,code:y.code,immediateClose:!0}))}else N(g.highlight(y.code,y.grammar,y.language));else N(g.util.encode(y.code))},highlight:function(d,u,p){var h={code:d,grammar:u,language:p};if(g.hooks.run("before-tokenize",h),!h.grammar)throw new Error('The language "'+h.language+'" has no grammar.');return h.tokens=g.tokenize(h.code,h.grammar),g.hooks.run("after-tokenize",h),x.stringify(g.util.encode(h.tokens),h.language)},tokenize:function(d,u){var p=u.rest;if(p){for(var h in p)u[h]=p[h];delete u.rest}var f=new I;return w(f,f.head,d),U(d,f,u,f.head,0),function E(d){for(var u=[],p=d.head.next;p!==d.tail;)u.push(p.value),p=p.next;return u}(f)},hooks:{all:{},add:function(d,u){var p=g.hooks.all;p[d]=p[d]||[],p[d].push(u)},run:function(d,u){var p=g.hooks.all[d];if(p&&p.length)for(var f,h=0;f=p[h++];)f(u)}},Token:x};function x(d,u,p,h){this.type=d,this.content=u,this.alias=p,this.length=0|(h||"").length}function e(d,u,p,h){d.lastIndex=u;var f=d.exec(p);if(f&&h&&f[1]){var _=f[1].length;f.index+=_,f[0]=f[0].slice(_)}return f}function U(d,u,p,h,f,_){for(var S in p)if(p.hasOwnProperty(S)&&p[S]){var y=p[S];y=Array.isArray(y)?y:[y];for(var N=0;N<y.length;++N){if(_&&_.cause==S+","+N)return;var H=y[N],X=H.inside,ee=!!H.lookbehind,re=!!H.greedy,V=H.alias;if(re&&!H.pattern.global){var j=H.pattern.toString().match(/[imsuy]*$/)[0];H.pattern=RegExp(H.pattern.source,j+"g")}for(var W=H.pattern||H,P=h.next,$=f;P!==u.tail&&!(_&&$>=_.reach);$+=P.value.length,P=P.next){var te=P.value;if(u.length>d.length)return;if(!(te instanceof x)){var K,ae=1;if(re){if(!(K=e(W,$,d,ee))||K.index>=d.length)break;var le=K.index,be=K.index+K[0].length,ie=$;for(ie+=P.value.length;le>=ie;)ie+=(P=P.next).value.length;if($=ie-=P.value.length,P.value instanceof x)continue;for(var se=P;se!==u.tail&&(ie<be||"string"==typeof se.value);se=se.next)ae++,ie+=se.value.length;ae--,te=d.slice($,ie),K.index-=$}else if(!(K=e(W,0,te,ee)))continue;var ce=K[0],ge=te.slice(0,le=K.index),fe=te.slice(le+ce.length),Q=$+te.length;_&&Q>_.reach&&(_.reach=Q);var ue=P.prev;if(ge&&(ue=w(u,ue,ge),$+=ge.length),b(u,ue,ae),P=w(u,ue,new x(S,X?g.tokenize(ce,X):ce,V,ce)),fe&&w(u,P,fe),ae>1){var pe={cause:S+","+N,reach:Q};U(d,u,p,P.prev,$,pe),_&&pe.reach>_.reach&&(_.reach=pe.reach)}}}}}}function I(){var d={value:null,prev:null,next:null},u={value:null,prev:d,next:null};d.next=u,this.head=d,this.tail=u,this.length=0}function w(d,u,p){var h=u.next,f={value:p,prev:u,next:h};return u.next=f,h.prev=f,d.length++,f}function b(d,u,p){for(var h=u.next,f=0;f<p&&h!==d.tail;f++)h=h.next;u.next=h,h.prev=u,d.length-=f}if(A.Prism=g,x.stringify=function d(u,p){if("string"==typeof u)return u;if(Array.isArray(u)){var h="";return u.forEach(function(N){h+=d(N,p)}),h}var f={type:u.type,content:d(u.content,p),tag:"span",classes:["token",u.type],attributes:{},language:p},_=u.alias;_&&(Array.isArray(_)?Array.prototype.push.apply(f.classes,_):f.classes.push(_)),g.hooks.run("wrap",f);var S="";for(var y in f.attributes)S+=" "+y+'="'+(f.attributes[y]||"").replace(/"/g,"&quot;")+'"';return"<"+f.tag+' class="'+f.classes.join(" ")+'"'+S+">"+f.content+"</"+f.tag+">"},!A.document)return A.addEventListener&&(g.disableWorkerMessageHandler||A.addEventListener("message",function(d){var u=JSON.parse(d.data),p=u.language,f=u.immediateClose;A.postMessage(g.highlight(u.code,g.languages[p],p)),f&&A.close()},!1)),g;var M=g.util.currentScript();function F(){g.manual||g.highlightAll()}if(M&&(g.filename=M.src,M.hasAttribute("data-manual")&&(g.manual=!0)),!g.manual){var q=document.readyState;"loading"===q||"interactive"===q&&M&&M.defer?document.addEventListener("DOMContentLoaded",F):window.requestAnimationFrame?window.requestAnimationFrame(F):window.setTimeout(F,16)}return g}(typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{});R.exports&&(R.exports=m),typeof global<"u"&&(global.Prism=m),m.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},m.languages.markup.tag.inside["attr-value"].inside.entity=m.languages.markup.entity,m.languages.markup.doctype.inside["internal-subset"].inside=m.languages.markup,m.hooks.add("wrap",function(A){"entity"===A.type&&(A.attributes.title=A.content.replace(/&amp;/,"&"))}),Object.defineProperty(m.languages.markup.tag,"addInlined",{value:function(k,z){var c={};c["language-"+z]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:m.languages[z]},c.cdata=/^<!\[CDATA\[|\]\]>$/i;var g={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:c}};g["language-"+z]={pattern:/[\s\S]+/,inside:m.languages[z]};var x={};x[k]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return k}),"i"),lookbehind:!0,greedy:!0,inside:g},m.languages.insertBefore("markup","cdata",x)}}),Object.defineProperty(m.languages.markup.tag,"addAttribute",{value:function(A,k){m.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+A+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[k,"language-"+k],inside:m.languages[k]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),m.languages.html=m.languages.markup,m.languages.mathml=m.languages.markup,m.languages.svg=m.languages.markup,m.languages.xml=m.languages.extend("markup",{}),m.languages.ssml=m.languages.xml,m.languages.atom=m.languages.xml,m.languages.rss=m.languages.xml,function(A){var k=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;A.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+k.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+k.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+k.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+k.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:k,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},A.languages.css.atrule.inside.rest=A.languages.css;var z=A.languages.markup;z&&(z.tag.addInlined("style","css"),z.tag.addAttribute("style","css"))}(m),m.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},m.languages.javascript=m.languages.extend("clike",{"class-name":[m.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),m.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,m.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:m.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:m.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:m.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:m.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:m.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),m.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:m.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),m.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),m.languages.markup&&(m.languages.markup.tag.addInlined("script","javascript"),m.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),m.languages.js=m.languages.javascript,function(){if(!(typeof m>"u"||typeof document>"u")){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var c={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},g="data-src-status",x="loading",e="loaded",I="pre[data-src]:not(["+g+'="'+e+'"]):not(['+g+'="'+x+'"])';m.hooks.add("before-highlightall",function(M){M.selector+=", "+I}),m.hooks.add("before-sanity-check",function(M){var F=M.element;if(F.matches(I)){M.code="",F.setAttribute(g,x);var q=F.appendChild(document.createElement("CODE"));q.textContent="Loading\u2026";var d=F.getAttribute("data-src"),u=M.language;if("none"===u){var p=(/\.(\w+)$/.exec(d)||[,"none"])[1];u=c[p]||p}m.util.setLanguage(q,u),m.util.setLanguage(F,u);var h=m.plugins.autoloader;h&&h.loadLanguages(u),function w(M,F,q){var d=new XMLHttpRequest;d.open("GET",M,!0),d.onreadystatechange=function(){4==d.readyState&&(d.status<400&&d.responseText?F(d.responseText):q(d.status>=400?function(M,F){return"\u2716 Error "+M+" while fetching file: "+F}(d.status,d.statusText):"\u2716 Error: File does not exist or is empty"))},d.send(null)}(d,function(f){F.setAttribute(g,e);var _=function b(M){var F=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(M||"");if(F){var q=Number(F[1]),u=F[3];return F[2]?u?[q,Number(u)]:[q,void 0]:[q,q]}}(F.getAttribute("data-range"));if(_){var S=f.split(/\r\n?|\n/g),y=_[0],N=_[1]??S.length;y<0&&(y+=S.length),y=Math.max(0,Math.min(y-1,S.length)),N<0&&(N+=S.length),N=Math.max(0,Math.min(N,S.length)),f=S.slice(y,N).join("\n"),F.hasAttribute("data-start")||F.setAttribute("data-start",String(y+1))}q.textContent=f,m.highlightElement(q)},function(f){F.setAttribute(g,"failed"),q.textContent=f})}}),m.plugins.fileHighlight={highlight:function(F){for(var u,q=(F||document).querySelectorAll(I),d=0;u=q[d++];)m.highlightElement(u)}};var E=!1;m.fileHighlight=function(){E||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),E=!0),m.plugins.fileHighlight.highlight.apply(this,arguments)}}}()}}]);